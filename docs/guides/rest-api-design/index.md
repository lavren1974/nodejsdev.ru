---
description: —Å—Ç–∞—Ç—å—é, –∫–æ—Ç–æ—Ä–∞—è –ª–µ–≥–∫–æ —É—Å–≤–∞–∏–≤–∞–µ—Ç—Å—è, –∏ –ø—Ä–∏–≤–µ–ª –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –ø—Ä–∏–º–µ—Ä, –∫–æ—Ç–æ—Ä–æ–º—É –º–æ–∂–Ω–æ —Å–ª–µ–¥–æ–≤–∞—Ç—å. –í –∏—Ç–æ–≥–µ –º—ã —Å–æ–∑–¥–∞–¥–∏–º –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π API, –ø—Ä–∏–º–µ–Ω—è—è –æ–¥–Ω—É –ª—É—á—à—É—é –ø—Ä–∞–∫—Ç–∏–∫—É –∑–∞ –¥—Ä—É–≥–æ–π
---

# –ö–∞–∫ –ø–æ—Å—Ç—Ä–æ–∏—Ç—å REST API —Å –ø–æ–º–æ—â—å—é JS, Node.js –∏ Express.js

–ó–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ –ª–µ—Ç —è —Å–æ–∑–¥–∞–ª –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª –º–Ω–æ–∂–µ—Å—Ç–≤–æ API. –ó–∞ —ç—Ç–æ –≤—Ä–µ–º—è —è —Å—Ç–∞–ª–∫–∏–≤–∞–ª—Å—è —Å —Ö–æ—Ä–æ—à–∏–º–∏ –∏ –ø–ª–æ—Ö–∏–º–∏ –ø—Ä–∞–∫—Ç–∏–∫–∞–º–∏ –∏ –ø–µ—Ä–µ–∂–∏–≤–∞–ª –Ω–µ–ø—Ä–∏—è—Ç–Ω—ã–µ —Å–∏—Ç—É–∞—Ü–∏–∏ –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –∏ —Å–æ–∑–¥–∞–Ω–∏–∏ API. –ù–æ –±—ã–ª–∏ –∏ –∑–∞–º–µ—á–∞—Ç–µ–ª—å–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã.

–í –ò–Ω—Ç–µ—Ä–Ω–µ—Ç–µ –µ—Å—Ç—å –ø–æ–ª–µ–∑–Ω—ã–µ —Å—Ç–∞—Ç—å–∏, –≤ –∫–æ—Ç–æ—Ä—ã—Ö –æ–ø–∏—Å–∞–Ω–æ –º–Ω–æ–∂–µ—Å—Ç–≤–æ –ª—É—á—à–∏—Ö –ø—Ä–∞–∫—Ç–∏–∫, –Ω–æ –º–Ω–æ–≥–∏–º –∏–∑ –Ω–∏—Ö, –Ω–∞ –º–æ–π –≤–∑–≥–ª—è–¥, –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç –ø—Ä–∞–∫—Ç–∏—á–Ω–æ—Å—Ç–∏. –ó–Ω–∞–Ω–∏–µ —Ç–µ–æ—Ä–∏–∏ –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø—Ä–∏–º–µ—Ä–∞—Ö - —ç—Ç–æ —Ö–æ—Ä–æ—à–æ, –Ω–æ –º–Ω–µ –≤—Å–µ–≥–¥–∞ –±—ã–ª–æ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ, –∫–∞–∫ –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –≤ –±–æ–ª–µ–µ —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–º–µ—Ä–µ.

–ü—Ä–∏–≤–µ–¥–µ–Ω–∏–µ –ø—Ä–æ—Å—Ç—ã—Ö –ø—Ä–∏–º–µ—Ä–æ–≤ –ø–æ–º–æ–≥–∞–µ—Ç –ø–æ–Ω—è—Ç—å —Å–∞–º—É –∫–æ–Ω—Ü–µ–ø—Ü–∏—é –±–µ–∑ –æ—Å–æ–±—ã—Ö —Å–ª–æ–∂–Ω–æ—Å—Ç–µ–π, –Ω–æ –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ –≤—Å–µ –Ω–µ –≤—Å–µ–≥–¥–∞ —Ç–∞–∫ –ø—Ä–æ—Å—Ç–æ. –Ø —É–≤–µ—Ä–µ–Ω, —á—Ç–æ –≤—ã –ø–æ–Ω–∏–º–∞–µ—Ç–µ, –æ —á–µ–º —è –≥–æ–≤–æ—Ä—é üòÅ.

–ò–º–µ–Ω–Ω–æ –ø–æ—ç—Ç–æ–º—É —è —Ä–µ—à–∏–ª –Ω–∞–ø–∏—Å–∞—Ç—å —ç—Ç–æ—Ç —É—á–µ–±–Ω–∏–∫. –Ø —Å–æ–±—Ä–∞–ª –≤—Å–µ —ç—Ç–∏ –∑–Ω–∞–Ω–∏—è (—Ö–æ—Ä–æ—à–∏–µ –∏ –ø–ª–æ—Ö–∏–µ) –≤ –æ–¥–Ω—É —Å—Ç–∞—Ç—å—é, –∫–æ—Ç–æ—Ä–∞—è –ª–µ–≥–∫–æ —É—Å–≤–∞–∏–≤–∞–µ—Ç—Å—è, –∏ –ø—Ä–∏–≤–µ–ª –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –ø—Ä–∏–º–µ—Ä, –∫–æ—Ç–æ—Ä–æ–º—É –º–æ–∂–Ω–æ —Å–ª–µ–¥–æ–≤–∞—Ç—å. –í –∏—Ç–æ–≥–µ –º—ã —Å–æ–∑–¥–∞–¥–∏–º –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π API, –ø—Ä–∏–º–µ–Ω—è—è –æ–¥–Ω—É –ª—É—á—à—É—é –ø—Ä–∞–∫—Ç–∏–∫—É –∑–∞ –¥—Ä—É–≥–æ–π.

–ü—Ä–µ–∂–¥–µ —á–µ–º –º—ã –Ω–∞—á–Ω–µ–º, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∑–∞–ø–æ–º–Ω–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–æ–º–µ–Ω—Ç–æ–≤:

–õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ - —ç—Ç–æ, –∫–∞–∫ –≤—ã —É–∂–µ –¥–æ–≥–∞–¥–∞–ª–∏—Å—å, –Ω–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –∑–∞–∫–æ–Ω—ã –∏–ª–∏ –ø—Ä–∞–≤–∏–ª–∞, –∫–æ—Ç–æ—Ä—ã–º –Ω—É–∂–Ω–æ —Å–ª–µ–¥–æ–≤–∞—Ç—å. –≠—Ç–æ —É—Å–ª–æ–≤–Ω–æ—Å—Ç–∏ –∏–ª–∏ —Å–æ–≤–µ—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ —Å–ª–æ–∂–∏–ª–∏—Å—å —Å —Ç–µ—á–µ–Ω–∏–µ–º –≤—Ä–µ–º–µ–Ω–∏ –∏ –æ–∫–∞–∑–∞–ª–∏—Å—å —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–º–∏. –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –∏–∑ –Ω–∏—Ö —É–∂–µ —Å—Ç–∞–ª–∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–æ–º. –ù–æ —ç—Ç–æ –Ω–µ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –≤—ã –¥–æ–ª–∂–Ω—ã –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –∏—Ö 1:1.

–û–Ω–∏ –¥–æ–ª–∂–Ω—ã –¥–∞—Ç—å –≤–∞–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ, —á—Ç–æ–±—ã —Å–¥–µ–ª–∞—Ç—å –≤–∞—à–∏ API –ª—É—á—à–µ —Å —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –æ–ø—ã—Ç–∞ (–¥–ª—è –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è –∏ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞), –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.

–ù–µ –∑–∞–±—ã–≤–∞–π—Ç–µ, —á—Ç–æ –ø—Ä–æ–µ–∫—Ç—ã –±—ã–≤–∞—é—Ç —Ä–∞–∑–Ω—ã–µ –∏ —Ç—Ä–µ–±—É—é—Ç —Ä–∞–∑–Ω—ã—Ö –ø–æ–¥—Ö–æ–¥–æ–≤. –ú–æ–≥—É—Ç –≤–æ–∑–Ω–∏–∫–Ω—É—Ç—å —Å–∏—Ç—É–∞—Ü–∏–∏, –∫–æ–≥–¥–∞ –Ω–µ–ª—å–∑—è –∏–ª–∏ –Ω–µ –Ω—É–∂–Ω–æ —Å–ª–µ–¥–æ–≤–∞—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–º –ø—Ä–∞–≤–∏–ª–∞–º. –ü–æ—ç—Ç–æ–º—É –∫–∞–∂–¥—ã–π –∏–Ω–∂–µ–Ω–µ—Ä –¥–æ–ª–∂–µ–Ω —Ä–µ—à–∞—Ç—å —ç—Ç–æ –¥–ª—è —Å–µ–±—è –∏–ª–∏ –≤–º–µ—Å—Ç–µ —Å–æ —Å–≤–æ–∏–º–∏.

–¢–µ–ø–µ—Ä—å, –∫–æ–≥–¥–∞ –º—ã —Ä–∞–∑–æ–±—Ä–∞–ª–∏—Å—å —Å —ç—Ç–∏–º–∏ –≤–æ–ø—Ä–æ—Å–∞–º–∏, –¥–∞–≤–∞–π—Ç–µ –ø—Ä–∏—Å—Ç—É–ø–∏–º –∫ —Ä–∞–±–æ—Ç–µ!

## –ù–∞—à –ø—Ä–∏–º–µ—Ä –ø—Ä–æ–µ–∫—Ç–∞

![–ø—Ä–∏–º–µ—Ä –ø—Ä–æ–µ–∫—Ç–∞](alvaro-reyes-qWwpHwip31M-unsplash--1-.jpg)

–ü—Ä–µ–∂–¥–µ —á–µ–º –º—ã –Ω–∞—á–Ω–µ–º –≤–Ω–µ–¥—Ä—è—Ç—å –ª—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ –≤ –Ω–∞—à –ø—Ä–∏–º–µ—Ä–Ω—ã–π –ø—Ä–æ–µ–∫—Ç, —è —Ö–æ—Ç–µ–ª –±—ã –∫—Ä–∞—Ç–∫–æ —Ä–∞—Å—Å–∫–∞–∑–∞—Ç—å –≤–∞–º –æ —Ç–æ–º, —á—Ç–æ –º—ã –±—É–¥–µ–º —Å–æ–∑–¥–∞–≤–∞—Ç—å.

–ú—ã —Å–æ–∑–¥–∞–¥–∏–º REST API –¥–ª—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ—á–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è CrossFit. –ï—Å–ª–∏ –≤—ã –Ω–µ –∑–Ω–∞–∫–æ–º—ã —Å CrossFit, —Ç–æ —ç—Ç–æ —Ñ–∏—Ç–Ω–µ—Å-–º–µ—Ç–æ–¥ –∏ —Å–æ—Ä–µ–≤–Ω–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π –≤–∏–¥ —Å–ø–æ—Ä—Ç–∞, —Å–æ—á–µ—Ç–∞—é—â–∏–π –≤—ã—Å–æ–∫–æ–∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω—ã–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ —Å —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –≤–∏–¥–æ–≤ —Å–ø–æ—Ä—Ç–∞ (–æ–ª–∏–º–ø–∏–π—Å–∫–æ–π —Ç—è–∂–µ–ª–æ–π –∞—Ç–ª–µ—Ç–∏–∫–∏, –≥–∏–º–Ω–∞—Å—Ç–∏–∫–∏ –∏ –¥—Ä—É–≥–∏—Ö).

–í –Ω–∞—à–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –º—ã —Ö–æ—Ç–µ–ª–∏ –±—ã —Å–æ–∑–¥–∞–≤–∞—Ç—å, —á–∏—Ç–∞—Ç—å, –æ–±–Ω–æ–≤–ª—è—Ç—å –∏ —É–¥–∞–ª—è—Ç—å **WOD** (**W**orkouts **o**f the **D**ay). –≠—Ç–æ –ø–æ–º–æ–∂–µ—Ç –Ω–∞—à–∏–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º (–≤–ª–∞–¥–µ–ª—å—Ü–∞–º —Ç—Ä–µ–Ω–∞–∂–µ—Ä–Ω—ã—Ö –∑–∞–ª–æ–≤) —Å–æ—Å—Ç–∞–≤–ª—è—Ç—å –ø–ª–∞–Ω—ã —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ –∏ –≤–µ—Å—Ç–∏ —Å–≤–æ–∏ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ –≤ —Ä–∞–º–∫–∞—Ö –æ–¥–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –ö—Ä–æ–º–µ —Ç–æ–≥–æ, –æ–Ω–∏ —Å–º–æ–≥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å –≤–∞–∂–Ω—ã–µ —Å–æ–≤–µ—Ç—ã –ø–æ –∫–∞–∂–¥–æ–π —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.

–ù–∞—à–∞ –∑–∞–¥–∞—á–∞ - —Ä–∞–∑—Ä–∞–±–æ—Ç–∞—Ç—å –∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å API –¥–ª—è —ç—Ç–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

### –ù–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —É—Å–ª–æ–≤–∏—è

–î–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Ä–∞–±–æ—Ç—É, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∏–º–µ—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä—ã–π –æ–ø—ã—Ç —Ä–∞–±–æ—Ç—ã —Å JavaScript, Node.js, Express.js –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π backend. –¢–∞–∫–∏–µ —Ç–µ—Ä–º–∏–Ω—ã, –∫–∞–∫ REST –∏ API, –Ω–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –¥–ª—è –≤–∞—Å –Ω–æ–≤—ã–º–∏, –∏ –≤—ã –¥–æ–ª–∂–Ω—ã –∏–º–µ—Ç—å –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –æ –º–æ–¥–µ–ª–∏ [–ö–ª–∏–µ–Ω—Ç-–°–µ—Ä–≤–µ—Ä](https://ru.wikipedia.org/wiki/%D0%9A%D0%BB%D0%B8%D0%B5%D0%BD%D1%82_%E2%80%94_%D1%81%D0%B5%D1%80%D0%B2%D0%B5%D1%80).

–ö–æ–Ω–µ—á–Ω–æ, –≤—ã –Ω–µ –æ–±—è–∑–∞–Ω—ã –±—ã—Ç—å —ç–∫—Å–ø–µ—Ä—Ç–æ–º –≤ —ç—Ç–∏—Ö –≤–æ–ø—Ä–æ—Å–∞—Ö, –Ω–æ –∑–Ω–∞–∫–æ–º—Å—Ç–≤–∞ –∏, –≤ –∏–¥–µ–∞–ª–µ, –Ω–µ–∫–æ—Ç–æ—Ä–æ–≥–æ –æ–ø—ã—Ç–∞ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ.

–ï—Å–ª–∏ –Ω–µ –≤—Å–µ –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —É—Å–ª–æ–≤–∏—è –ø—Ä–∏–º–µ–Ω–∏–º—ã –∫ –≤–∞–º, —ç—Ç–æ, –∫–æ–Ω–µ—á–Ω–æ, –Ω–µ –ø–æ–≤–æ–¥ –ø—Ä–æ–ø—É—Å–∫–∞—Ç—å –¥–∞–Ω–Ω—ã–π —É—á–µ–±–Ω–∏–∫. –í–∞–º –≤—Å–µ —Ä–∞–≤–Ω–æ –ø—Ä–∏–¥–µ—Ç—Å—è –º–Ω–æ–≥–æ–º—É –Ω–∞—É—á–∏—Ç—å—Å—è. –ù–æ –Ω–∞–ª–∏—á–∏–µ —ç—Ç–∏—Ö –Ω–∞–≤—ã–∫–æ–≤ –æ–±–ª–µ–≥—á–∏—Ç –≤–∞–º –¥–∞–ª—å–Ω–µ–π—à—É—é —Ä–∞–±–æ—Ç—É.

–ù–µ—Å–º–æ—Ç—Ä—è –Ω–∞ —Ç–æ, —á—Ç–æ –¥–∞–Ω–Ω—ã–π API –Ω–∞–ø–∏—Å–∞–Ω –Ω–∞ JavaScript –∏ Express, –ª—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ –Ω–µ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞—é—Ç—Å—è —ç—Ç–∏–º–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏. –û–Ω–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –ø—Ä–∏–º–µ–Ω–µ–Ω—ã –∏ –∫ –¥—Ä—É–≥–∏–º —è–∑—ã–∫–∞–º –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è –∏–ª–∏ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞–º.

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–ö–∞–∫ —É–∂–µ –≥–æ–≤–æ—Ä–∏–ª–æ—Å—å –≤—ã—à–µ, –º—ã –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Express.js –¥–ª—è –Ω–∞—à–µ–≥–æ API. –Ø –Ω–µ —Ö–æ—á—É –ø—Ä–∏–¥—É–º—ã–≤–∞—Ç—å —Å–ª–æ–∂–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É, –ø–æ—ç—Ç–æ–º—É —è —Ö–æ—Ç–µ–ª –±—ã –ø—Ä–∏–¥–µ—Ä–∂–∏–≤–∞—Ç—å—Å—è —Ç—Ä–µ—Ö—Å–ª–æ–π–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã:

![Bildschirmfoto-2022-04-25-um-14.33.24-1](Bildschirmfoto-2022-04-25-um-14.33.24-1.png)

–í–Ω—É—Ç—Ä–∏ **Controller** –º—ã –±—É–¥–µ–º –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –≤—Å–µ, —á—Ç–æ —Å–≤—è–∑–∞–Ω–æ —Å HTTP. –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –º—ã –±—É–¥–µ–º —Ä–∞–±–æ—Ç–∞—Ç—å —Å –∑–∞–ø—Ä–æ—Å–∞–º–∏ –∏ –æ—Ç–≤–µ—Ç–∞–º–∏ –¥–ª—è –Ω–∞—à–∏—Ö –∫–æ–Ω–µ—á–Ω—ã—Ö —Ç–æ—á–µ–∫. –ù–∞–¥ —ç—Ç–∏–º —Å–ª–æ–µ–º —Ç–∞–∫–∂–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –Ω–µ–±–æ–ª—å—à–æ–π **–º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä** –∏–∑ Express, –∫–æ—Ç–æ—Ä—ã–π –ø–µ—Ä–µ–¥–∞–µ—Ç –∑–∞–ø—Ä–æ—Å—ã —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–º—É –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—É.

–í—Å—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –±—É–¥–µ—Ç –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ **Service Layer**, –∫–æ—Ç–æ—Ä—ã–π —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã (–º–µ—Ç–æ–¥—ã), –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–º.

–¢—Ä–µ—Ç–∏–π —Å–ª–æ–π - —ç—Ç–æ **–°–ª–æ–π –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º**, –≥–¥–µ –º—ã –±—É–¥–µ–º —Ä–∞–±–æ—Ç–∞—Ç—å —Å –Ω–∞—à–µ–π –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö. –ú—ã –±—É–¥–µ–º —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –º–µ—Ç–æ–¥—ã –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö, —Ç–∞–∫–∏—Ö –∫–∞–∫ —Å–æ–∑–¥–∞–Ω–∏–µ WOD, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –±—ã—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω—ã –Ω–∞—à–∏–º —Å–µ—Ä–≤–∏—Å–Ω—ã–º —Å–ª–æ–µ–º.

–í –Ω–∞—à–µ–º –ø—Ä–∏–º–µ—Ä–µ –º—ã –Ω–µ –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å _—Ä–µ–∞–ª—å–Ω—É—é_ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö, —Ç–∞–∫—É—é –∫–∞–∫ MongoDB –∏–ª–∏ PostgreSQL, –ø–æ—Å–∫–æ–ª—å–∫—É —è —Ö–æ—Ç–µ–ª –±—ã —Å–æ—Å—Ä–µ–¥–æ—Ç–æ—á–∏—Ç—å—Å—è –Ω–∞ –ª—É—á—à–∏—Ö –ø—Ä–∞–∫—Ç–∏–∫–∞—Ö. –ü–æ—ç—Ç–æ–º—É –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –ª–æ–∫–∞–ª—å–Ω—ã–π JSON-—Ñ–∞–π–ª, –∫–æ—Ç–æ—Ä—ã–π –∏–º–∏—Ç–∏—Ä—É–µ—Ç –Ω–∞—à—É –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö. –ù–æ —ç—Ç—É –ª–æ–≥–∏–∫—É, –∫–æ–Ω–µ—á–Ω–æ, –º–æ–∂–Ω–æ –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ –∏ –Ω–∞ –¥—Ä—É–≥–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.

### –ë–∞–∑–æ–≤–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

–¢–µ–ø–µ—Ä—å –º—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≥–æ—Ç–æ–≤—ã —Å–æ–∑–¥–∞—Ç—å –±–∞–∑–æ–≤—É—é –Ω–∞—Å—Ç—Ä–æ–π–∫—É –¥–ª—è –Ω–∞—à–µ–≥–æ API. –ú—ã –Ω–µ –±—É–¥–µ–º —É—Å–ª–æ–∂–Ω—è—Ç—å –∏ –ø–æ—Å—Ç—Ä–æ–∏–º –ø—Ä–æ—Å—Ç—É—é, –Ω–æ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø—Ä–æ–µ–∫—Ç–∞.

–°–Ω–∞—á–∞–ª–∞ —Å–æ–∑–¥–∞–¥–∏–º –æ–±—â—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø–∞–ø–æ–∫ —Å–æ –≤—Å–µ–º–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–º–∏ —Ñ–∞–π–ª–∞–º–∏ –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏. –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –ø—Ä–æ–≤–µ–¥–µ–º –±—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç, —á—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, –≤—Å–µ –ª–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ:

```shell
# Create project folder & navigate into it
mkdir crossfit-wod-api && cd crossfit-wod-api
```

```shell
# Create a src folder & navigate into it
mkdir src && cd src
```

```shell
# Create sub folders
mkdir controllers && mkdir services && mkdir database && mkdir routes
```

```shell
# Create an index file (entry point of our API)
touch index.js
```

```shell
# We're currently in the src folder, so we need to move one level up first
cd ..

# Create package.json file
npm init -y
```

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–ª—è –±–∞–∑–æ–≤–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏:

```shell
# Dev Dependencies
npm i -D nodemon

# Dependencies
npm i express
```

–û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –≤ –≤–∞—à–µ–º –ª—é–±–∏–º–æ–º —Ç–µ–∫—Å—Ç–æ–≤–æ–º —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ –∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ Express:

```js
// In src/index.js
const express = require('express');

const app = express();
const PORT = process.env.PORT || 3000;

// For testing purposes
app.get('/', (req, res) => {
    res.send("<h2>It's Working!</h2>");
});

app.listen(PORT, () => {
    console.log(`API is listening on port ${PORT}`);
});
```

–ò–Ω—Ç–µ–≥—Ä–∏—Ä—É–π—Ç–µ –Ω–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç –ø–æ–¥ –Ω–∞–∑–≤–∞–Ω–∏–µ–º **"dev "** –≤ —Ñ–∞–π–ª `package.json`:

```json
{
    "name": "crossfit-wod-api",
    "version": "1.0.0",
    "description": "",
    "main": "index.js",
    "scripts": {
        "dev": "nodemon src/index.js"
    },
    "keywords": [],
    "author": "",
    "license": "ISC",
    "devDependencies": {
        "nodemon": "^2.0.15"
    },
    "dependencies": {
        "express": "^4.17.3"
    }
}
```

–°—Ü–µ–Ω–∞—Ä–∏–π –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –ø—Ä–∏ –≤–Ω–µ—Å–µ–Ω–∏–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π (–±–ª–∞–≥–æ–¥–∞—Ä—è `nodemon`).

–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:

```shell
npm run dev
```

–ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª, —Ç–∞–º –¥–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ –æ —Ç–æ–º, —á—Ç–æ **"API –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–µ—Ç –ø–æ—Ä—Ç 3000"**.

–ó–∞–π–¥–∏—Ç–µ –Ω–∞ **localhost:3000** –≤ –±—Ä–∞—É–∑–µ—Ä–µ. –ï—Å–ª–∏ –≤—Å–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ, –≤—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å —Å–ª–µ–¥—É—é—â–µ–µ:

![Bildschirmfoto-2022-04-30-um-11.09.44](Bildschirmfoto-2022-04-30-um-11.09.44.png)

–û—Ç–ª–∏—á–Ω–æ! –¢–µ–ø–µ—Ä—å —É –Ω–∞—Å –≤—Å–µ –≥–æ—Ç–æ–≤–æ –¥–ª—è –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –ª—É—á—à–∏—Ö –ø—Ä–∞–∫—Ç–∏–∫.

## REST API –ª—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

–î–∞! –¢–µ–ø–µ—Ä—å, –∫–æ–≥–¥–∞ —É –Ω–∞—Å –µ—Å—Ç—å –±–∞–∑–æ–≤–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ Express, –º—ã –º–æ–∂–µ–º —Ä–∞—Å—à–∏—Ä–∏—Ç—å –Ω–∞—à API —Å –ø–æ–º–æ—â—å—é —Å–ª–µ–¥—É—é—â–∏—Ö –ª—É—á—à–∏—Ö –ø—Ä–∞–∫—Ç–∏–∫.

–ù–∞—á–Ω–µ–º —Å —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã—Ö –∫–æ–Ω–µ—á–Ω—ã—Ö —Ç–æ—á–µ–∫ CRUD. –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –º—ã –±—É–¥–µ–º —Ä–∞—Å—à–∏—Ä—è—Ç—å API —Å –ø–æ–º–æ—â—å—é –∫–∞–∂–¥–æ–π –∏–∑ –ª—É—á—à–∏—Ö –ø—Ä–∞–∫—Ç–∏–∫.

### –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ

–ü–æ–¥–æ–∂–¥–∏—Ç–µ —Å–µ–∫—É–Ω–¥—É. –ü—Ä–µ–∂–¥–µ —á–µ–º –ø–∏—Å–∞—Ç—å –∫–æ–¥, —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–π –¥–ª—è API, –º—ã –¥–æ–ª–∂–Ω—ã –∑–Ω–∞—Ç—å –æ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–∏. –ö–∞–∫ –∏ –≤ –¥—Ä—É–≥–∏—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö, –≤ API –±—É–¥—É—Ç –ø–æ—è–≤–ª—è—Ç—å—Å—è —É–ª—É—á—à–µ–Ω–∏—è, –Ω–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∏ —Ç.–ø. –ü–æ—ç—Ç–æ–º—É –≤–∞–∂–Ω–æ –≤–µ—Ä—Å–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –∏ –Ω–∞—à API.

–ë–æ–ª—å—à–∏–º –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ–º —è–≤–ª—è–µ—Ç—Å—è —Ç–æ, —á—Ç–æ –º—ã –º–æ–∂–µ–º —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞–¥ –Ω–æ–≤—ã–º–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º–∏ –∏–ª–∏ —É–ª—É—á—à–µ–Ω–∏—è–º–∏ –≤ –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–∏, –≤ —Ç–æ –≤—Ä–µ–º—è –∫–∞–∫ –∫–ª–∏–µ–Ω—Ç—ã –≤—Å–µ –µ—â–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Ç–µ–∫—É—â—É—é –≤–µ—Ä—Å–∏—é –∏ –Ω–µ –ø–æ–¥–≤–µ—Ä–∂–µ–Ω—ã –≤–ª–∏—è–Ω–∏—é –∏–∑–º–µ–Ω–µ–Ω–∏–π.

–ö—Ä–æ–º–µ —Ç–æ–≥–æ, –º—ã –Ω–µ –∑–∞—Å—Ç–∞–≤–ª—è–µ–º –∫–ª–∏–µ–Ω—Ç–æ–≤ —Å—Ä–∞–∑—É –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –Ω–∞ –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é. –û–Ω–∏ –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–µ–∫—É—â—É—é –≤–µ—Ä—Å–∏—é –∏ –ø–µ—Ä–µ–π—Ç–∏ –Ω–∞ –Ω–µ–µ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ, –∫–æ–≥–¥–∞ –Ω–æ–≤–∞—è –≤–µ—Ä—Å–∏—è —Å—Ç–∞–Ω–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ–π.

–¢–µ–∫—É—â–∞—è –∏ –Ω–æ–≤–∞—è –≤–µ—Ä—Å–∏–∏, –ø–æ —Å—É—Ç–∏, —Ä–∞–±–æ—Ç–∞—é—Ç –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ –∏ –Ω–µ –≤–ª–∏—è—é—Ç –¥—Ä—É–≥ –Ω–∞ –¥—Ä—É–≥–∞.

–ù–æ –∫–∞–∫ –æ—Ç–ª–∏—á–∏—Ç—å –≤–µ—Ä—Å–∏–∏ –¥—Ä—É–≥ –æ—Ç –¥—Ä—É–≥–∞? –û–¥–Ω–∞ –∏–∑ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã—Ö –ø—Ä–∞–∫—Ç–∏–∫ - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ URL —Å–µ–≥–º–µ–Ω—Ç–∞ –ø—É—Ç–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä **v1** –∏–ª–∏ **v2**.

```js
// Version 1
'/api/v1/workouts';

// Version 2
'/api/v2/workouts';

// ...

```

–≠—Ç–æ —Ç–æ, —á—Ç–æ –º—ã –≤—ã—Å—Ç–∞–≤–ª—è–µ–º –Ω–∞ –≤—Å–µ–æ–±—â–µ–µ –æ–±–æ–∑—Ä–µ–Ω–∏–µ –∏ —á—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ –¥—Ä—É–≥–∏–º–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º–∏. –ù–æ –Ω–∞–º —Ç–∞–∫–∂–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–∞—à –ø—Ä–æ–µ–∫—Ç, —á—Ç–æ–±—ã —Ä–∞–∑–ª–∏—á–∞—Ç—å –∫–∞–∂–¥—É—é –≤–µ—Ä—Å–∏—é.

–°—É—â–µ—Å—Ç–≤—É–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –ø–æ–¥—Ö–æ–¥–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ —Å –≤–µ—Ä—Å–∏—è–º–∏ –≤–Ω—É—Ç—Ä–∏ Express API. –í –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ —è —Ö–æ—Ç–µ–ª –±—ã —Å–æ–∑–¥–∞—Ç—å –≤–Ω—É—Ç—Ä–∏ –∫–∞—Ç–∞–ª–æ–≥–∞ `src` –≤–ª–æ–∂–µ–Ω–Ω—É—é –ø–∞–ø–∫—É –¥–ª—è –∫–∞–∂–¥–æ–π –≤–µ—Ä—Å–∏–∏ –ø–æ–¥ –Ω–∞–∑–≤–∞–Ω–∏–µ–º `v1`.

```shell
mkdir src/v1
```

–¢–µ–ø–µ—Ä—å –º—ã –ø–µ—Ä–µ–Ω–µ—Å–µ–º –Ω–∞—à—É –ø–∞–ø–∫—É `routes` –≤ —ç—Ç–æ—Ç –Ω–æ–≤—ã–π –∫–∞—Ç–∞–ª–æ–≥ v1.

```shell
# Get the path to your current directory (copy it)
pwd

# Move "routes" into "v1" (insert the path from above into {pwd})
mv {pwd}/src/routes {pwd}/src/v1
```

–í –Ω–æ–≤–æ–º –∫–∞—Ç–∞–ª–æ–≥–µ `/src/v1/routes` –±—É–¥—É—Ç —Ö—Ä–∞–Ω–∏—Ç—å—Å—è –≤—Å–µ –Ω–∞—à–∏ –º–∞—Ä—à—Ä—É—Ç—ã –¥–ª—è –≤–µ—Ä—Å–∏–∏ 1. –ü–æ–∑–∂–µ –º—ã –¥–æ–±–∞–≤–∏–º "—Ä–µ–∞–ª—å–Ω–æ–µ" —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ. –ê –ø–æ–∫–∞ –¥–∞–≤–∞–π—Ç–µ –¥–æ–±–∞–≤–∏–º –ø—Ä–æ—Å—Ç–æ–π —Ñ–∞–π–ª `index.js` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏.

```shell
# In /src/v1/routes
touch index.js
```

–í–Ω—É—Ç—Ä–∏ –Ω–µ–≥–æ –º—ã –∑–∞–ø—É—Å–∫–∞–µ–º –ø—Ä–æ—Å—Ç–æ–π –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä.

```js
// In src/v1/routes/index.js
const express = require('express');
const router = express.Router();

router.route('/').get((req, res) => {
    res.send(`<h2>Hello from ${req.baseUrl}</h2>`);
});

module.exports = router;
```

–¢–µ–ø–µ—Ä—å –Ω–∞–º –Ω—É–∂–Ω–æ —Ö—É–∫–Ω—É—Ç—å –Ω–∞—à –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä –¥–ª—è v1 –≤ –∫–æ—Ä–Ω–µ–≤–æ–π —Ç–æ—á–∫–µ –≤—Ö–æ–¥–∞ –≤ `src/index.js`.

```js
// In src/index.js
const express = require('express');
// *** ADD ***
const v1Router = require('./v1/routes');

const app = express();
const PORT = process.env.PORT || 3000;

// *** REMOVE ***
app.get('/', (req, res) => {
    res.send("<h2>It's Working!</h2>");
});

// *** ADD ***
app.use('/api/v1', v1Router);

app.listen(PORT, () => {
    console.log(`API is listening on port ${PORT}`);
});
```

–¢–µ–ø–µ—Ä—å –ø–æ—Å–µ—Ç–∏—Ç–µ `localhost:3000/api/v1` –≤ –±—Ä–∞—É–∑–µ—Ä–µ, –∏ –≤—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å —Å–ª–µ–¥—É—é—â–µ–µ:

![Bildschirmfoto-2022-04-30-um-11.22.28](Bildschirmfoto-2022-04-30-um-11.22.28.png)

–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –í—ã —Ç–æ–ª—å–∫–æ —á—Ç–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–ª–∏ –ø—Ä–æ–µ–∫—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ –≤–µ—Ä—Å–∏—è–º–∏. –¢–µ–ø–µ—Ä—å –º—ã –ø–µ—Ä–µ–¥–∞–µ–º –≤—Ö–æ–¥—è—â–∏–µ –∑–∞–ø—Ä–æ—Å—ã —Å "`/api/v1`" –Ω–∞—à–µ–º—É –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä—É –≤–µ—Ä—Å–∏–∏ 1, –∫–æ—Ç–æ—Ä—ã–π –≤ –¥–∞–ª—å–Ω–µ–π—à–µ–º –±—É–¥–µ—Ç –Ω–∞–ø—Ä–∞–≤–ª—è—Ç—å –∫–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –º–µ—Ç–æ–¥ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞.

–ü—Ä–µ–∂–¥–µ —á–µ–º –º—ã –¥–≤–∏–Ω–µ–º—Å—è –¥–∞–ª—å—à–µ, —è —Ö–æ—Ç–µ–ª –±—ã –∫–æ–µ-—á—Ç–æ –æ—Ç–º–µ—Ç–∏—Ç—å.

–ú—ã —Ç–æ–ª—å–∫–æ —á—Ç–æ –ø–µ—Ä–µ–º–µ—Å—Ç–∏–ª–∏ –ø–∞–ø–∫—É `routes` –≤ –∫–∞—Ç–∞–ª–æ–≥ `v1`. –û—Å—Ç–∞–ª—å–Ω—ã–µ –ø–∞–ø–∫–∏, —Ç–∞–∫–∏–µ –∫–∞–∫ `controllers` –∏–ª–∏ `services`, –ø–æ-–ø—Ä–µ–∂–Ω–µ–º—É –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –∫–∞—Ç–∞–ª–æ–≥–µ `src`. –ü–æ–∫–∞ —á—Ç–æ —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ, –ø–æ—Å–∫–æ–ª—å–∫—É –º—ã —Å–æ–∑–¥–∞–µ–º –¥–æ–≤–æ–ª—å–Ω–æ –Ω–µ–±–æ–ª—å—à–æ–π API. –ú—ã –º–æ–∂–µ–º –≥–ª–æ–±–∞–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–¥–Ω–∏ –∏ —Ç–µ –∂–µ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã –∏ —Å–µ—Ä–≤–∏—Å—ã –≤ –∫–∞–∂–¥–æ–π –≤–µ—Ä—Å–∏–∏.

–ö–æ–≥–¥–∞ API –±—É–¥–µ—Ç —Ä–∞—Å—Ç–∏ –∏ –ø–æ—Ç—Ä–µ–±—É—é—Ç—Å—è —Ä–∞–∑–ª–∏—á–Ω—ã–µ –º–µ—Ç–æ–¥—ã –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤, —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ, –Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è –≤–µ—Ä—Å–∏–∏ v2, –±—É–¥–µ—Ç –ª—É—á—à–µ –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ –ø–∞–ø–∫—É `controllers` –≤ –∫–∞—Ç–∞–ª–æ–≥ `v2`, —á—Ç–æ–±—ã –≤—Å—è –ª–æ–≥–∏–∫–∞, —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω–∞—è –¥–ª—è —ç—Ç–æ–π –≤–µ—Ä—Å–∏–∏, –±—ã–ª–∞ –∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä–æ–≤–∞–Ω–∞.

–î—Ä—É–≥–∞—è –ø—Ä–∏—á–∏–Ω–∞ –º–æ–∂–µ—Ç –∑–∞–∫–ª—é—á–∞—Ç—å—Å—è –≤ —Ç–æ–º, —á—Ç–æ –º—ã –º–æ–∂–µ–º –∏–∑–º–µ–Ω–∏—Ç—å —Å–µ—Ä–≤–∏—Å, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤—Å–µ–º–∏ –æ—Å—Ç–∞–ª—å–Ω—ã–º–∏ –≤–µ—Ä—Å–∏—è–º–∏. –ú—ã –Ω–µ —Ö–æ—Ç–∏–º –ª–æ–º–∞—Ç—å —á—Ç–æ-—Ç–æ –≤ –¥—Ä—É–≥–∏—Ö –≤–µ—Ä—Å–∏—è—Ö. –ü–æ—ç—Ç–æ–º—É —Ä–∞–∑—É–º–Ω—ã–º —Ä–µ—à–µ–Ω–∏–µ–º –±—É–¥–µ—Ç –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ –ø–∞–ø–∫—É `services` —Ç–∞–∫–∂–µ –≤ –ø–∞–ø–∫—É –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –≤–µ—Ä—Å–∏–∏.

–ù–æ, –∫–∞–∫ —è —É–∂–µ —Å–∫–∞–∑–∞–ª, –≤ –Ω–∞—à–µ–º –ø—Ä–∏–º–µ—Ä–µ –º–Ω–µ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Ä–∞–∑–ª–∏—á–∞—Ç—å —Ç–æ–ª—å–∫–æ –º–∞—Ä—à—Ä—É—Ç—ã, –∞ –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω–æ–µ –ø—É—Å—Ç—å –¥–µ–ª–∞–µ—Ç –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä. –¢–µ–º –Ω–µ –º–µ–Ω–µ–µ, –≤–∞–∂–Ω–æ –ø–æ–º–Ω–∏—Ç—å –æ–± —ç—Ç–æ–º, —á—Ç–æ–±—ã –∏–º–µ—Ç—å —á–µ—Ç–∫—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É, –∫–æ–≥–¥–∞ API –±—É–¥–µ—Ç —Ä–∞—Å—à–∏—Ä—è—Ç—å—Å—è –∏ –ø–æ—Ç—Ä–µ–±—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π.

### –ò–º–µ–Ω–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤ –≤–æ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–º —á–∏—Å–ª–µ

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤—Å–µ–≥–æ —ç—Ç–æ–≥–æ –º—ã –º–æ–∂–µ–º –ø—Ä–∏—Å—Ç—É–ø–∏—Ç—å –∫ —Ä–µ–∞–ª—å–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –Ω–∞—à–µ–≥–æ API. –ö–∞–∫ —è —É–∂–µ —Å–∫–∞–∑–∞–ª, —è —Ö–æ—Ç–µ–ª –±—ã –Ω–∞—á–∞—Ç—å —Å –Ω–∞—à–∏—Ö —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã—Ö –∫–æ–Ω–µ—á–Ω—ã—Ö —Ç–æ—á–µ–∫ CRUD.

–î—Ä—É–≥–∏–º–∏ —Å–ª–æ–≤–∞–º–∏, –Ω–∞—á–Ω–µ–º —Ä–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å –∫–æ–Ω–µ—á–Ω—ã–µ —Ç–æ—á–∫–∏ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è, —á—Ç–µ–Ω–∏—è, –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏ —É–¥–∞–ª–µ–Ω–∏—è –æ—Ç—Ä–∞–±–æ—Ç–æ–∫.

–î–ª—è –Ω–∞—á–∞–ª–∞ –¥–∞–≤–∞–π—Ç–µ —Ö—É–∫–Ω–µ–º –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä, —Å–µ—Ä–≤–∏—Å –∏ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä –¥–ª—è –Ω–∞—à–∏—Ö —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫.

```shell
touch src/controllers/workoutController.js

touch src/services/workoutService.js

touch src/v1/routes/workoutRoutes.js
```

–Ø –≤—Å–µ–≥–¥–∞ –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞—é –Ω–∞—á–∏–Ω–∞—Ç—å —Å –º–∞—Ä—à—Ä—É—Ç–æ–≤. –î–∞–≤–∞–π—Ç–µ –ø–æ–¥—É–º–∞–µ–º, –∫–∞–∫ –Ω–∞–∑–≤–∞—Ç—å –Ω–∞—à–∏ –∫–æ–Ω–µ—á–Ω—ã–µ —Ç–æ—á–∫–∏. –≠—Ç–æ —Å–≤—è–∑–∞–Ω–æ —Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –ª—É—á—à–µ–π –ø—Ä–∞–∫—Ç–∏–∫–æ–π.

–ú—ã –º–æ–∂–µ–º –Ω–∞–∑–≤–∞—Ç—å –∫–æ–Ω–µ—á–Ω—É—é —Ç–æ—á–∫—É —Å–æ–∑–¥–∞–Ω–∏—è `/api/v1/workout`, –ø–æ—Ç–æ–º—É —á—Ç–æ –º—ã —Ö–æ—Ç–∏–º –¥–æ–±–∞–≤–∏—Ç—å –æ–¥–Ω—É —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É, –≤–µ—Ä–Ω–æ? –í –ø—Ä–∏–Ω—Ü–∏–ø–µ, –≤ —Ç–∞–∫–æ–º –ø–æ–¥—Ö–æ–¥–µ –Ω–µ—Ç –Ω–∏—á–µ–≥–æ –ø–ª–æ—Ö–æ–≥–æ - –Ω–æ —ç—Ç–æ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –Ω–µ–¥–æ—Ä–∞–∑—É–º–µ–Ω–∏—è–º.

–í—Å–µ–≥–¥–∞ –ø–æ–º–Ω–∏—Ç–µ: –≤–∞—à API –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥—Ä—É–≥–∏–º–∏ –ª—é–¥—å–º–∏, –∏ –æ–Ω –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ç–æ—á–Ω—ã–º. –≠—Ç–æ –∫–∞—Å–∞–µ—Ç—Å—è –∏ –∏–º–µ–Ω–æ–≤–∞–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤.

–Ø –≤—Å–µ–≥–¥–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é —Å–µ–±–µ —Ä–µ—Å—É—Ä—Å –∫–∞–∫ –∫–æ—Ä–æ–±–∫—É. –í –Ω–∞—à–µ–º –ø—Ä–∏–º–µ—Ä–µ –∫–æ—Ä–æ–±–∫–∞ - —ç—Ç–æ –∫–æ–ª–ª–µ–∫—Ü–∏—è, –≤ –∫–æ—Ç–æ—Ä–æ–π —Ö—Ä–∞–Ω—è—Ç—Å—è —Ä–∞–∑–ª–∏—á–Ω—ã–µ **—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏**.

–ò–º–µ–Ω–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤ –≤–æ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–º —á–∏—Å–ª–µ –∏–º–µ–µ—Ç —Ç–æ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ, —á—Ç–æ –¥—Ä—É–≥–∏–º –ª—é–¥—è–º —Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ —è—Å–Ω–æ, —á—Ç–æ —ç—Ç–æ –∫–æ–ª–ª–µ–∫—Ü–∏—è, —Å–æ—Å—Ç–æ—è—â–∞—è –∏–∑ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫.

–ò—Ç–∞–∫, –¥–∞–≤–∞–π—Ç–µ –æ–ø—Ä–µ–¥–µ–ª–∏–º –∫–æ–Ω–µ—á–Ω—ã–µ —Ç–æ—á–∫–∏ –≤–Ω—É—Ç—Ä–∏ –Ω–∞—à–µ–≥–æ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫.

```js
// In src/v1/routes/workoutRoutes.js
const express = require('express');
const router = express.Router();

router.get('/', (req, res) => {
    res.send('Get all workouts');
});

router.get('/:workoutId', (req, res) => {
    res.send('Get an existing workout');
});

router.post('/', (req, res) => {
    res.send('Create a new workout');
});

router.patch('/:workoutId', (req, res) => {
    res.send('Update an existing workout');
});

router.delete('/:workoutId', (req, res) => {
    res.send('Delete an existing workout');
});

module.exports = router;
```

–í—ã –º–æ–∂–µ—Ç–µ —É–¥–∞–ª–∏—Ç—å –Ω–∞—à —Ç–µ—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª `index.js` –≤–Ω—É—Ç—Ä–∏ `src/v1/routes`.

–¢–µ–ø–µ—Ä—å –ø–µ—Ä–µ–π–¥–µ–º –∫ –Ω–∞—à–µ–π —Ç–æ—á–∫–µ –≤—Ö–æ–¥–∞ –∏ –ø–æ–¥–∫–ª—é—á–∏–º –Ω–∞—à –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä v1.

```js
// In src/index.js
const express = require('express');
// *** REMOVE ***
const v1Router = require('./v1/routes');
// *** ADD ***
const v1WorkoutRouter = require('./v1/routes/workoutRoutes');

const app = express();
const PORT = process.env.PORT || 3000;

// *** REMOVE ***
app.use('/api/v1', v1Router);

// *** ADD ***
app.use('/api/v1/workouts', v1WorkoutRouter);

app.listen(PORT, () => {
    console.log(`API is listening on port ${PORT}`);
});
```

–í—Å–µ –ø—Ä–æ—à–ª–æ –≥–ª–∞–¥–∫–æ, –≤–µ—Ä–Ω–æ? –¢–µ–ø–µ—Ä—å –º—ã –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ–º –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã, –∏–¥—É—â–∏–µ –∫ `/api/v1/workouts`, —Å –ø–æ–º–æ—â—å—é –Ω–∞—à–µ–≥–æ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä–∞ `v1WorkoutRouter`.

–í–Ω—É—Ç—Ä–∏ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä–∞ –¥–ª—è –∫–∞–∂–¥–æ–π –∫–æ–Ω–µ—á–Ω–æ–π —Ç–æ—á–∫–∏ –º—ã –±—É–¥–µ–º –≤—ã–∑—ã–≤–∞—Ç—å —Å–≤–æ–π –º–µ—Ç–æ–¥, —É–ø—Ä–∞–≤–ª—è–µ–º—ã–π –Ω–∞—à–∏–º –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–º.

–î–∞–≤–∞–π—Ç–µ —Å–æ–∑–¥–∞–¥–∏–º –º–µ—Ç–æ–¥ –¥–ª—è –∫–∞–∂–¥–æ–π –∫–æ–Ω–µ—á–Ω–æ–π —Ç–æ—á–∫–∏. –ü–æ–∫–∞ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–æ—Å—Ç–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ.

```js
// In src/controllers/workoutController.js
const getAllWorkouts = (req, res) => {
    res.send('Get all workouts');
};

const getOneWorkout = (req, res) => {
    res.send('Get an existing workout');
};

const createNewWorkout = (req, res) => {
    res.send('Create a new workout');
};

const updateOneWorkout = (req, res) => {
    res.send('Update an existing workout');
};

const deleteOneWorkout = (req, res) => {
    res.send('Delete an existing workout');
};

module.exports = {
    getAllWorkouts,
    getOneWorkout,
    createNewWorkout,
    updateOneWorkout,
    deleteOneWorkout,
};
```

–¢–µ–ø–µ—Ä—å –ø—Ä–∏—à–ª–æ –≤—Ä–µ–º—è –Ω–µ–º–Ω–æ–≥–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏—Ç—å –Ω–∞—à –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥—ã –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞.

```js
// In src/v1/routes/workoutRoutes.js
const express = require('express');
const workoutController = require('../../controllers/workoutController');

const router = express.Router();

router.get('/', workoutController.getAllWorkouts);

router.get('/:workoutId', workoutController.getOneWorkout);

router.post('/', workoutController.createNewWorkout);

router.patch(
    '/:workoutId',
    workoutController.updateOneWorkout
);

router.delete(
    '/:workoutId',
    workoutController.deleteOneWorkout
);

module.exports = router;
```

–¢–µ–ø–µ—Ä—å –º—ã –º–æ–∂–µ–º –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞—à—É –∫–æ–Ω–µ—á–Ω—É—é —Ç–æ—á–∫—É `GET /api/v1/workouts/:workoutId`, –Ω–∞–±—Ä–∞–≤ –≤ –±—Ä–∞—É–∑–µ—Ä–µ `localhost:3000/api/v1/workouts/2342`. –í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å –Ω–µ—á—Ç–æ –ø–æ–¥–æ–±–Ω–æ–µ:

![Bildschirmfoto-2022-04-30-um-11.29.19](Bildschirmfoto-2022-04-30-um-11.29.19.png)

–ú—ã —Å–¥–µ–ª–∞–ª–∏ —ç—Ç–æ! –ü–µ—Ä–≤—ã–π —Å–ª–æ–π –Ω–∞—à–µ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –≥–æ—Ç–æ–≤. –î–∞–≤–∞–π—Ç–µ —Å–æ–∑–¥–∞–¥–∏–º –Ω–∞—à —Å–µ—Ä–≤–∏—Å–Ω—ã–π —Å–ª–æ–π, —Ä–µ–∞–ª–∏–∑–æ–≤–∞–≤ —Å–ª–µ–¥—É—é—â—É—é –ª—É—á—à—É—é –ø—Ä–∞–∫—Ç–∏–∫—É.

### –ü—Ä–∏–Ω–∏–º–∞—Ç—å –∏ –æ—Ç–≤–µ—á–∞—Ç—å –¥–∞–Ω–Ω—ã–º–∏ –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON

–í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É—è —Å API, –≤—ã –≤—Å–µ–≥–¥–∞ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Å –∑–∞–ø—Ä–æ—Å–æ–º –∏–ª–∏ –ø–æ–ª—É—á–∞–µ—Ç–µ –∏—Ö –≤ –æ—Ç–≤–µ—Ç. –°—É—â–µ—Å—Ç–≤—É–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤ –¥–∞–Ω–Ω—ã—Ö, –Ω–æ JSON (Javascript Object Notation) —è–≤–ª—è–µ—Ç—Å—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–æ–≤–∞–Ω–Ω—ã–º —Ñ–æ—Ä–º–∞—Ç–æ–º.

–•–æ—Ç—è –≤ JSON –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç —Ç–µ—Ä–º–∏–Ω **JavaScript**, –æ–Ω –Ω–µ –ø—Ä–∏–≤—è–∑–∞–Ω –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ –∫ –Ω–µ–º—É. –í—ã —Ç–∞–∫–∂–µ –º–æ–∂–µ—Ç–µ –Ω–∞–ø–∏—Å–∞—Ç—å —Å–≤–æ–π API –Ω–∞ Java –∏–ª–∏ Python, –∫–æ—Ç–æ—Ä—ã–π —Ç–∞–∫–∂–µ –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å JSON.

–í —Å–∏–ª—É —Å–≤–æ–µ–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∞—Ü–∏–∏ API –¥–æ–ª–∂–Ω—ã –ø—Ä–∏–Ω–∏–º–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON –∏ –æ—Ç–≤–µ—á–∞—Ç—å –Ω–∞ –Ω–∏—Ö.

–î–∞–≤–∞–π—Ç–µ —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º –Ω–∞—à—É —Ç–µ–∫—É—â—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –∏ –ø–æ—Å–º–æ—Ç—Ä–∏–º, –∫–∞–∫ –º—ã –º–æ–∂–µ–º –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —ç—Ç—É –ª—É—á—à—É—é –ø—Ä–∞–∫—Ç–∏–∫—É.

–°–Ω–∞—á–∞–ª–∞ –º—ã —Å–æ–∑–¥–∞–¥–∏–º –Ω–∞—à —Å–µ—Ä–≤–∏—Å–Ω—ã–π —Å–ª–æ–π.

```js
// In src/services/workoutService.js
const getAllWorkouts = () => {
    return;
};

const getOneWorkout = () => {
    return;
};

const createNewWorkout = () => {
    return;
};

const updateOneWorkout = () => {
    return;
};

const deleteOneWorkout = () => {
    return;
};

module.exports = {
    getAllWorkouts,
    getOneWorkout,
    createNewWorkout,
    updateOneWorkout,
    deleteOneWorkout,
};
```

–¢–∞–∫–∂–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –Ω–∞–∑—ã–≤–∞—Ç—å –º–µ—Ç–æ–¥—ã —Å–µ—Ä–≤–∏—Å–∞ —Ç–∞–∫ –∂–µ, –∫–∞–∫ –∏ –º–µ—Ç–æ–¥—ã –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞, —á—Ç–æ–±—ã –º–µ–∂–¥—É –Ω–∏–º–∏ –±—ã–ª–∞ —Å–≤—è–∑—å. –ù–∞—á–Ω–µ–º —Å —Ç–æ–≥–æ, —á—Ç–æ –º—ã –ø—Ä–æ—Å—Ç–æ –Ω–∏—á–µ–≥–æ –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º.

–í–Ω—É—Ç—Ä–∏ –Ω–∞—à–µ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞ `workout` –º—ã –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–∏ –º–µ—Ç–æ–¥—ã.

```js
// In src/controllers/workoutController.js
// *** ADD ***
const workoutService = require('../services/workoutService');

const getAllWorkouts = (req, res) => {
    // *** ADD ***
    const allWorkouts = workoutService.getAllWorkouts();
    res.send('Get all workouts');
};

const getOneWorkout = (req, res) => {
    // *** ADD ***
    const workout = workoutService.getOneWorkout();
    res.send('Get an existing workout');
};

const createNewWorkout = (req, res) => {
    // *** ADD ***
    const createdWorkout = workoutService.createNewWorkout();
    res.send('Create a new workout');
};

const updateOneWorkout = (req, res) => {
    // *** ADD ***
    const updatedWorkout = workoutService.updateOneWorkout();
    res.send('Update an existing workout');
};

const deleteOneWorkout = (req, res) => {
    // *** ADD ***
    workoutService.deleteOneWorkout();
    res.send('Delete an existing workout');
};

module.exports = {
    getAllWorkouts,
    getOneWorkout,
    createNewWorkout,
    updateOneWorkout,
    deleteOneWorkout,
};
```

–ù–∞ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –≤–Ω—É—Ç—Ä–∏ –Ω–∞—à–∏—Ö –æ—Ç–≤–µ—Ç–æ–≤ –Ω–∏—á–µ–≥–æ –Ω–µ –¥–æ–ª–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å—Å—è. –ù–æ –ø–æ–¥ –∫–∞–ø–æ—Ç–æ–º –Ω–∞—à —Å–ª–æ–π –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤ —Ç–µ–ø–µ—Ä—å –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É–µ—Ç —Å –Ω–∞—à–∏–º —Å–µ—Ä–≤–∏—Å–Ω—ã–º —Å–ª–æ–µ–º.

–í–Ω—É—Ç—Ä–∏ —Å–µ—Ä–≤–∏—Å–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤ –º—ã –±—É–¥–µ–º –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É, –Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤—ã–≤–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö –∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Å–æ —Å–ª–æ–µ–º –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö.

–î–ª—è —ç—Ç–æ–≥–æ –Ω–∞–º –Ω—É–∂–Ω–∞ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∏ –Ω–∞–±–æ—Ä –º–µ—Ç–æ–¥–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ, —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ, –∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö. –ù–∞—à–∞ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –±—É–¥–µ—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—Ç—å —Å–æ–±–æ–π –ø—Ä–æ—Å—Ç–æ–π JSON-—Ñ–∞–π–ª, –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã–π –Ω–µ–∫–æ—Ç–æ—Ä—ã–º–∏ –æ—Ç—Ä–∞–±–æ—Ç–∫–∞–º–∏.

```shell
# Create a new file called db.json inside src/database
touch src/database/db.json

# Create a Workout File that stores all workout specific methods in /src/database
touch src/database/Workout.js
```

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤ —Ñ–∞–π–ª `db.json` —Å–ª–µ–¥—É—é—â–µ–µ:

```json
{
    "workouts": [
        {
            "id": "61dbae02-c147-4e28-863c-db7bd402b2d6",
            "name": "Tommy V",
            "mode": "For Time",
            "equipment": ["barbell", "rope"],
            "exercises": [
                "21 thrusters",
                "12 rope climbs, 15 ft",
                "15 thrusters",
                "9 rope climbs, 15 ft",
                "9 thrusters",
                "6 rope climbs, 15 ft"
            ],
            "createdAt": "4/20/2022, 2:21:56 PM",
            "updatedAt": "4/20/2022, 2:21:56 PM",
            "trainerTips": [
                "Split the 21 thrusters as needed",
                "Try to do the 9 and 6 thrusters unbroken",
                "RX Weights: 115lb/75lb"
            ]
        },
        {
            "id": "4a3d9aaa-608c-49a7-a004-66305ad4ab50",
            "name": "Dead Push-Ups",
            "mode": "AMRAP 10",
            "equipment": ["barbell"],
            "exercises": [
                "15 deadlifts",
                "15 hand-release push-ups"
            ],
            "createdAt": "1/25/2022, 1:15:44 PM",
            "updatedAt": "3/10/2022, 8:21:56 AM",
            "trainerTips": [
                "Deadlifts are meant to be light and fast",
                "Try to aim for unbroken sets",
                "RX Weights: 135lb/95lb"
            ]
        },
        {
            "id": "d8be2362-7b68-4ea4-a1f6-03f8bc4eede7",
            "name": "Heavy DT",
            "mode": "5 Rounds For Time",
            "equipment": ["barbell", "rope"],
            "exercises": [
                "12 deadlifts",
                "9 hang power cleans",
                "6 push jerks"
            ],
            "createdAt": "11/20/2021, 5:39:07 PM",
            "updatedAt": "11/20/2021, 5:39:07 PM",
            "trainerTips": [
                "Aim for unbroken push jerks",
                "The first three rounds might feel terrible, but stick to it",
                "RX Weights: 205lb/145lb"
            ]
        }
    ]
}
```

–ö–∞–∫ –≤–∏–¥–Ω–æ, –∑–¥–µ—Å—å –≤—Å—Ç–∞–≤–ª–µ–Ω—ã —Ç—Ä–∏ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏. –û–¥–Ω–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ `id`, `name`, `mode`, `equipment`, `exercises`, `createdAt`, `updatedAt` –∏ `trainerTips`.

–ù–∞—á–Ω–µ–º —Å —Å–∞–º–æ–≥–æ –ø—Ä–æ—Å—Ç–æ–≥–æ - –≤–µ—Ä–Ω–µ–º –≤—Å–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –ø–∞–º—è—Ç–∏, –∏ –ø—Ä–∏—Å—Ç—É–ø–∏–º –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–≥–æ –º–µ—Ç–æ–¥–∞ –≤ –Ω–∞—à–µ–º Data Access Layer (`src/database/Workout.js`).

–û–ø—è—Ç—å –∂–µ, —è —Ä–µ—à–∏–ª –Ω–∞–∑–≤–∞—Ç—å –º–µ—Ç–æ–¥ –∑–¥–µ—Å—å —Ç–∞–∫ –∂–µ, –∫–∞–∫ –∏ –≤ —Å–µ—Ä–≤–∏—Å–µ –∏ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–µ. –ù–æ —ç—Ç–æ —Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ.

```js
// In src/database/Workout.js
const DB = require('./db.json');

const getAllWorkouts = () => {
    return DB.workouts;
};

module.exports = { getAllWorkouts };
```

–í–µ—Ä–Ω–∏—Ç–µ—Å—å –≤ –Ω–∞—à —Å–µ—Ä–≤–∏—Å —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ –∏ —Ä–µ–∞–ª–∏–∑—É–π—Ç–µ –ª–æ–≥–∏–∫—É –¥–ª—è `getAllWorkouts`.

```js
// In src/database/workoutService.js
// *** ADD ***
const Workout = require('../database/Workout');
const getAllWorkouts = () => {
    // *** ADD ***
    const allWorkouts = Workout.getAllWorkouts();
    // *** ADD ***
    return allWorkouts;
};

const getOneWorkout = () => {
    return;
};

const createNewWorkout = () => {
    return;
};

const updateOneWorkout = () => {
    return;
};

const deleteOneWorkout = () => {
    return;
};

module.exports = {
    getAllWorkouts,
    getOneWorkout,
    createNewWorkout,
    updateOneWorkout,
    deleteOneWorkout,
};
```

–í–æ–∑–≤—Ä–∞—Ç –≤—Å–µ—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π –¥–æ–≤–æ–ª—å–Ω–æ –ø—Ä–æ—Å—Ç, –∏ –Ω–∞–º –Ω–µ –Ω—É–∂–Ω–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è, –ø–æ—Å–∫–æ–ª—å–∫—É —ç—Ç–æ —É–∂–µ JSON-—Ñ–∞–π–ª. –ù–∞–º —Ç–∞–∫–∂–µ –ø–æ–∫–∞ –Ω–µ –Ω—É–∂–Ω–æ –ø—Ä–∏–Ω–∏–º–∞—Ç—å –Ω–∏–∫–∞–∫–∏—Ö –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, —ç—Ç–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –¥–æ–≤–æ–ª—å–Ω–æ –ø—Ä–æ—Å—Ç–∞. –ù–æ –º—ã –≤–µ—Ä–Ω–µ–º—Å—è –∫ —ç—Ç–æ–º—É –ø–æ–∑–∂–µ.

–í–µ—Ä–Ω—É–≤—à–∏—Å—å –≤ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫, –º—ã –ø–æ–ª—É—á–∞–µ–º –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ `workoutService.getAllWorkouts()` –∏ –ø—Ä–æ—Å—Ç–æ –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –µ–≥–æ –≤ –∫–∞—á–µ—Å—Ç–≤–µ –æ—Ç–≤–µ—Ç–∞ –∫–ª–∏–µ–Ω—Ç—É. –ú—ã –ø–µ—Ä–µ–¥–∞–ª–∏ –æ—Ç–≤–µ—Ç –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ –Ω–∞—à —Å–µ—Ä–≤–∏—Å –≤ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä.

```js
// In src/controllers/workoutControllers.js
const workoutService = require('../services/workoutService');

const getAllWorkouts = (req, res) => {
    const allWorkouts = workoutService.getAllWorkouts();
    // *** ADD ***
    res.send({ status: 'OK', data: allWorkouts });
};

const getOneWorkout = (req, res) => {
    const workout = workoutService.getOneWorkout();
    res.send('Get an existing workout');
};

const createNewWorkout = (req, res) => {
    const createdWorkout = workoutService.createNewWorkout();
    res.send('Create a new workout');
};

const updateOneWorkout = (req, res) => {
    const updatedWorkout = workoutService.updateOneWorkout();
    res.send('Update an existing workout');
};

const deleteOneWorkout = (req, res) => {
    workoutService.deleteOneWorkout();
    res.send('Delete an existing workout');
};

module.exports = {
    getAllWorkouts,
    getOneWorkout,
    createNewWorkout,
    updateOneWorkout,
    deleteOneWorkout,
};
```

–ü–µ—Ä–µ–π–¥–∏—Ç–µ –ø–æ –∞–¥—Ä–µ—Å—É `localhost:3000/api/v1/workouts` –≤ –±—Ä–∞—É–∑–µ—Ä–µ, –∏ –≤—ã —É–≤–∏–¥–∏—Ç–µ JSON-–æ—Ç–≤–µ—Ç.

![Bildschirmfoto-2022-04-30-um-11.38.14](Bildschirmfoto-2022-04-30-um-11.38.14.png)

–í—Å–µ –ø—Ä–æ—à–ª–æ –æ—Ç–ª–∏—á–Ω–æ! –ú—ã –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON. –ù–æ –∫–∞–∫ –±—ã—Ç—å —Å –µ–≥–æ –ø—Ä–∏–µ–º–æ–º? –î–∞–≤–∞–π—Ç–µ –ø–æ–¥—É–º–∞–µ–º, –≤ –∫–∞–∫–æ–π –∫–æ–Ω–µ—á–Ω–æ–π —Ç–æ—á–∫–µ –Ω–∞–º –Ω—É–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –æ—Ç –∫–ª–∏–µ–Ω—Ç–∞ –¥–∞–Ω–Ω—ã–µ –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON. –ö–æ–Ω–µ—á–Ω–∞—è —Ç–æ—á–∫–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∏–ª–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ –Ω—É–∂–¥–∞–µ—Ç—Å—è –≤ –¥–∞–Ω–Ω—ã—Ö –æ—Ç –∫–ª–∏–µ–Ω—Ç–∞.

–í–Ω—É—Ç—Ä–∏ –Ω–∞—à–µ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ –º—ã –∏–∑–≤–ª–µ–∫–∞–µ–º —Ç–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ –∏ –ø–µ—Ä–µ–¥–∞–µ–º –µ–≥–æ –≤ —Å–µ—Ä–≤–∏—Å —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫. –í–Ω—É—Ç—Ä–∏ —Å–µ—Ä–≤–∏—Å–∞ `workout` –º—ã –≤—Å—Ç–∞–≤–∏–º –µ–≥–æ –≤ –Ω–∞—à `DB.json` –∏ –æ—Ç–ø—Ä–∞–≤–∏–º —Å–æ–∑–¥–∞–Ω–Ω—É—é —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É –æ–±—Ä–∞—Ç–Ω–æ –∫–ª–∏–µ–Ω—Ç—É.

–ß—Ç–æ–±—ã –∏–º–µ—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ä–∞–∑–æ–±—Ä–∞—Ç—å –ø—Ä–∏—Å–ª–∞–Ω–Ω—ã–π JSON –≤–Ω—É—Ç—Ä–∏ —Ç–µ–ª–∞ –∑–∞–ø—Ä–æ—Å–∞, –Ω–∞–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–Ω–∞—á–∞–ª–∞ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å `body-parser` –∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –µ–≥–æ.

```shell
npm i body-parser
```

```js
// In src/index.js
const express = require('express');
// *** ADD ***
const bodyParser = require('body-parser');
const v1WorkoutRouter = require('./v1/routes/workoutRoutes');

const app = express();
const PORT = process.env.PORT || 3000;

// *** ADD ***
app.use(bodyParser.json());
app.use('/api/v1/workouts', v1WorkoutRouter);

app.listen(PORT, () => {
    console.log(`API is listening on port ${PORT}`);
});
```

–¢–µ–ø–µ—Ä—å –º—ã –º–æ–∂–µ–º –ø–æ–ª—É—á–∞—Ç—å JSON-–¥–∞–Ω–Ω—ã–µ –≤–Ω—É—Ç—Ä–∏ –Ω–∞—à–∏—Ö –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤ –≤ `req.body`.

–î–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —ç—Ç–æ, –ø—Ä–æ—Å—Ç–æ –æ—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à –ª—é–±–∏–º—ã–π HTTP-–∫–ª–∏–µ–Ω—Ç (—è –∏—Å–ø–æ–ª—å–∑—É—é Postman), —Å–æ–∑–¥–∞–π—Ç–µ POST-–∑–∞–ø—Ä–æ—Å –Ω–∞ `localhost:3000/api/v1/workouts` –∏ —Ç–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON, –∫–∞–∫ –ø–æ–∫–∞–∑–∞–Ω–æ –Ω–∏–∂–µ:

```js
{
  "name": "Core Buster",
  "mode": "AMRAP 20",
  "equipment": [
    "rack",
    "barbell",
    "abmat"
  ],
  "exercises": [
    "15 toes to bars",
    "10 thrusters",
    "30 abmat sit-ups"
  ],
  "trainerTips": [
    "Split your toes to bars into two sets maximum",
    "Go unbroken on the thrusters",
    "Take the abmat sit-ups as a chance to normalize your breath"
  ]
}
```

–ö–∞–∫ –≤—ã –º–æ–≥–ª–∏ –∑–∞–º–µ—Ç–∏—Ç—å, –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞, —Ç–∞–∫–∏–µ –∫–∞–∫ "id", "createdAt" –∏ "updatedAt", –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç. –≠—Ç–æ –∑–∞–¥–∞—á–∞ –Ω–∞—à–µ–≥–æ API - –¥–æ–±–∞–≤–∏—Ç—å —ç—Ç–∏ —Å–≤–æ–π—Å—Ç–≤–∞ –ø–µ—Ä–µ–¥ –≤—Å—Ç–∞–≤–∫–æ–π. –ú—ã –ø–æ–∑–∞–±–æ—Ç–∏–º—Å—è –æ–± —ç—Ç–æ–º –≤ –Ω–∞—à–µ–º —Å–µ—Ä–≤–∏—Å–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ –ø–æ–∑–∂–µ.

–í–Ω—É—Ç—Ä–∏ –º–µ—Ç–æ–¥–∞ **createNewWorkout** –Ω–∞—à–µ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ –º—ã –º–æ–∂–µ–º –∏–∑–≤–ª–µ—á—å —Ç–µ–ª–æ –∏–∑ –æ–±—ä–µ–∫—Ç–∞ –∑–∞–ø—Ä–æ—Å–∞, –≤—ã–ø–æ–ª–Ω–∏—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä—É—é –ø—Ä–æ–≤–µ—Ä–∫—É –∏ –ø–µ—Ä–µ–¥–∞—Ç—å –µ–≥–æ –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ –Ω–∞—à–µ–º—É —Å–µ—Ä–≤–∏—Å—É —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫.

```js
// In src/controllers/workoutController.js
// ...

const createNewWorkout = (req, res) => {
    const { body } = req;
    // *** ADD ***
    if (
        !body.name ||
        !body.mode ||
        !body.equipment ||
        !body.exercises ||
        !body.trainerTips
    ) {
        return;
    }
    // *** ADD ***
    const newWorkout = {
        name: body.name,
        mode: body.mode,
        equipment: body.equipment,
        exercises: body.exercises,
        trainerTips: body.trainerTips,
    };
    // *** ADD ***
    const createdWorkout = workoutService.createNewWorkout(
        newWorkout
    );
    // *** ADD ***
    res.status(201).send({
        status: 'OK',
        data: createdWorkout,
    });
};

// ...
```

–î–ª—è —É–ª—É—á—à–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ –æ–±—ã—á–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å—Ç–æ—Ä–æ–Ω–Ω–∏–π –ø–∞–∫–µ—Ç, –Ω–∞–ø—Ä–∏–º–µ—Ä [express-validator](https://express-validator.github.io/docs/).

–ü–µ—Ä–µ–π–¥–µ–º –≤ –Ω–∞—à —Å–µ—Ä–≤–∏—Å —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ –∏ –ø–æ–ª—É—á–∏–º –¥–∞–Ω–Ω—ã–µ –≤ –º–µ—Ç–æ–¥–µ `createNewWorkout`.

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –¥–æ–±–∞–≤–∏–º –∫ –æ–±—ä–µ–∫—Ç—É –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ —Å–≤–æ–π—Å—Ç–≤–∞ –∏ –ø–µ—Ä–µ–¥–∞–¥–∏–º –µ–≥–æ –Ω–æ–≤–æ–º—É –º–µ—Ç–æ–¥—É –≤ –Ω–∞—à–µ–º —Å–ª–æ–µ –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º, —á—Ç–æ–±—ã —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –µ–≥–æ –≤ –Ω–∞—à–µ–π –ë–î.

–°–Ω–∞—á–∞–ª–∞ –º—ã —Å–æ–∑–¥–∞–¥–∏–º –ø—Ä–æ—Å—Ç—É—é —Ñ—É–Ω–∫—Ü–∏—é Util Function –¥–ª—è –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∏ –Ω–∞—à–µ–≥–æ JSON-—Ñ–∞–π–ª–∞, —á—Ç–æ–±—ã —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ.

```shell
# Create a utils file inside our database directory
touch src/database/utils.js
```

```js
// In src/database/utils.js
const fs = require('fs');

const saveToDatabase = (DB) => {
    fs.writeFileSync(
        './src/database/db.json',
        JSON.stringify(DB, null, 2),
        {
            encoding: 'utf-8',
        }
    );
};

module.exports = { saveToDatabase };
```

–ó–∞—Ç–µ–º –º—ã –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç—É —Ñ—É–Ω–∫—Ü–∏—é –≤ –Ω–∞—à–µ–º —Ñ–∞–π–ª–µ `Workout.js`.

```js
// In src/database/Workout.js
const DB = require('./db.json');
// *** ADD ***
const { saveToDatabase } = require('./utils');

const getAllWorkouts = () => {
    return DB.workouts;
};

// *** ADD ***
const createNewWorkout = (newWorkout) => {
    const isAlreadyAdded =
        DB.workouts.findIndex(
            (workout) => workout.name === newWorkout.name
        ) > -1;
    if (isAlreadyAdded) {
        return;
    }
    DB.workouts.push(newWorkout);
    saveToDatabase(DB);
    return newWorkout;
};

module.exports = {
    getAllWorkouts,
    // *** ADD ***
    createNewWorkout,
};
```

–í—Å–µ –ø—Ä–æ—à–ª–æ –≥–ª–∞–¥–∫–æ! –°–ª–µ–¥—É—é—â–∏–π —à–∞–≥ - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –º–µ—Ç–æ–¥–æ–≤ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –≤–Ω—É—Ç—Ä–∏ –Ω–∞—à–µ–≥–æ —Å–µ—Ä–≤–∏—Å–∞ `workout`.

```shell
# Install the uuid package
npm i uuid
```

```js
// In src/services/workoutService.js
// *** ADD ***
const { v4: uuid } = require('uuid');
// *** ADD ***
const Workout = require('../database/Workout');

const getAllWorkouts = () => {
    const allWorkouts = Workout.getAllWorkouts();
    return allWorkouts;
};

const getOneWorkout = () => {
    return;
};

const createNewWorkout = (newWorkout) => {
    // *** ADD ***
    const workoutToInsert = {
        ...newWorkout,
        id: uuid(),
        createdAt: new Date().toLocaleString('en-US', {
            timeZone: 'UTC',
        }),
        updatedAt: new Date().toLocaleString('en-US', {
            timeZone: 'UTC',
        }),
    };
    // *** ADD ***
    const createdWorkout = Workout.createNewWorkout(
        workoutToInsert
    );
    return createdWorkout;
};

const updateOneWorkout = () => {
    return;
};

const deleteOneWorkout = () => {
    return;
};

module.exports = {
    getAllWorkouts,
    getOneWorkout,
    createNewWorkout,
    updateOneWorkout,
    deleteOneWorkout,
};
```

–£—Ö —Ç—ã! –≠—Ç–æ –±—ã–ª–æ –≤–µ—Å–µ–ª–æ, –ø—Ä–∞–≤–¥–∞? –¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ –æ–±—Ä–∞—Ç–∏—Ç—å—Å—è –∫ —Å–≤–æ–µ–º—É HTTP-–∫–ª–∏–µ–Ω—Ç—É, —Å–Ω–æ–≤–∞ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å POST-–∑–∞–ø—Ä–æ—Å, –∏ –≤—ã –¥–æ–ª–∂–Ω—ã –ø–æ–ª—É—á–∏—Ç—å —Ç–æ–ª—å–∫–æ —á—Ç–æ —Å–æ–∑–¥–∞–Ω–Ω—É—é —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON.

–ï—Å–ª–∏ –≤—ã –ø–æ–ø—ã—Ç–∞–µ—Ç–µ—Å—å –¥–æ–±–∞–≤–∏—Ç—å —Ç—É –∂–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É –≤–æ –≤—Ç–æ—Ä–æ–π —Ä–∞–∑, —Ç–æ –ø–æ–ª—É—á–∏—Ç–µ –∫–æ–¥ —Å–æ—Å—Ç–æ—è–Ω–∏—è `201`, –Ω–æ –±–µ–∑ –Ω–æ–≤–æ–π –≤—Å—Ç–∞–≤–ª–µ–Ω–Ω–æ–π —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏.

–≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –Ω–∞—à –º–µ—Ç–æ–¥ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –ø–æ–∫–∞ –æ—Ç–º–µ–Ω—è–µ—Ç –≤—Å—Ç–∞–≤–∫—É –∏ –ø—Ä–æ—Å—Ç–æ –Ω–∏—á–µ–≥–æ –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç. –≠—Ç–æ —Å–≤—è–∑–∞–Ω–æ —Å —Ç–µ–º, —á—Ç–æ —Å—Ä–∞–±–æ—Ç–∞–ª –Ω–∞—à –æ–ø–µ—Ä–∞—Ç–æ—Ä `if`, –ø—Ä–æ–≤–µ—Ä—è—é—â–∏–π, –Ω–µ –±—ã–ª–∞ –ª–∏ —É–∂–µ –≤—Å—Ç–∞–≤–ª–µ–Ω–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ —Å —Ç–∞–∫–∏–º –∂–µ –∏–º–µ–Ω–µ–º. –ü–æ–∫–∞ –≤—Å–µ –≤ –ø–æ—Ä—è–¥–∫–µ, –º—ã —Ä–∞–∑–±–µ—Ä–µ–º—Å—è —Å —ç—Ç–∏–º —Å–ª—É—á–∞–µ–º –≤ —Å–ª–µ–¥—É—é—â–µ–º –ø—Ä–∏–º–µ—Ä–µ!

–¢–µ–ø–µ—Ä—å –æ—Ç–ø—Ä–∞–≤–∏–º GET-–∑–∞–ø—Ä–æ—Å –Ω–∞ `localhost:3000/api/v1/workouts`, —á—Ç–æ–±—ã –ø—Ä–æ—á–∏—Ç–∞—Ç—å –≤—Å–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏. –Ø –≤—ã–±–∏—Ä–∞—é –¥–ª—è —ç—Ç–æ–≥–æ –±—Ä–∞—É–∑–µ—Ä. –í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å, —á—Ç–æ –Ω–∞—à–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ —É—Å–ø–µ—à–Ω–æ –≤—Å—Ç–∞–≤–ª–µ–Ω–∞ –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞:

![Bildschirmfoto-2022-04-30-um-11.57.23](Bildschirmfoto-2022-04-30-um-11.57.23.png)

–û—Å—Ç–∞–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã –≤—ã –º–æ–∂–µ—Ç–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –º–æ–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏.

–°–Ω–∞—á–∞–ª–∞ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ (–º–æ–∂–Ω–æ –ø—Ä–æ—Å—Ç–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ):

```js
// In src/controllers/workoutController.js
const workoutService = require('../services/workoutService');

const getAllWorkouts = (req, res) => {
    const allWorkouts = workoutService.getAllWorkouts();
    res.send({ status: 'OK', data: allWorkouts });
};

const getOneWorkout = (req, res) => {
    const {
        params: { workoutId },
    } = req;
    if (!workoutId) {
        return;
    }
    const workout = workoutService.getOneWorkout(workoutId);
    res.send({ status: 'OK', data: workout });
};

const createNewWorkout = (req, res) => {
    const { body } = req;
    if (
        !body.name ||
        !body.mode ||
        !body.equipment ||
        !body.exercises ||
        !body.trainerTips
    ) {
        return;
    }
    const newWorkout = {
        name: body.name,
        mode: body.mode,
        equipment: body.equipment,
        exercises: body.exercises,
        trainerTips: body.trainerTips,
    };
    const createdWorkout = workoutService.createNewWorkout(
        newWorkout
    );
    res.status(201).send({
        status: 'OK',
        data: createdWorkout,
    });
};

const updateOneWorkout = (req, res) => {
    const {
        body,
        params: { workoutId },
    } = req;
    if (!workoutId) {
        return;
    }
    const updatedWorkout = workoutService.updateOneWorkout(
        workoutId,
        body
    );
    res.send({ status: 'OK', data: updatedWorkout });
};

const deleteOneWorkout = (req, res) => {
    const {
        params: { workoutId },
    } = req;
    if (!workoutId) {
        return;
    }
    workoutService.deleteOneWorkout(workoutId);
    res.status(204).send({ status: 'OK' });
};

module.exports = {
    getAllWorkouts,
    getOneWorkout,
    createNewWorkout,
    updateOneWorkout,
    deleteOneWorkout,
};
```

–ó–∞—Ç–µ–º - —Å–µ—Ä–≤–∏—Å —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ (–º–æ–∂–Ω–æ –ø—Ä–æ—Å—Ç–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ):

```js
// In src/services/workoutServices.js
const { v4: uuid } = require('uuid');
const Workout = require('../database/Workout');

const getAllWorkouts = () => {
    const allWorkouts = Workout.getAllWorkouts();
    return allWorkouts;
};

const getOneWorkout = (workoutId) => {
    const workout = Workout.getOneWorkout(workoutId);
    return workout;
};

const createNewWorkout = (newWorkout) => {
    const workoutToInsert = {
        ...newWorkout,
        id: uuid(),
        createdAt: new Date().toLocaleString('en-US', {
            timeZone: 'UTC',
        }),
        updatedAt: new Date().toLocaleString('en-US', {
            timeZone: 'UTC',
        }),
    };
    const createdWorkout = Workout.createNewWorkout(
        workoutToInsert
    );
    return createdWorkout;
};

const updateOneWorkout = (workoutId, changes) => {
    const updatedWorkout = Workout.updateOneWorkout(
        workoutId,
        changes
    );
    return updatedWorkout;
};

const deleteOneWorkout = (workoutId) => {
    Workout.deleteOneWorkout(workoutId);
};

module.exports = {
    getAllWorkouts,
    getOneWorkout,
    createNewWorkout,
    updateOneWorkout,
    deleteOneWorkout,
};
```

–ò, –Ω–∞–∫–æ–Ω–µ—Ü, –º–µ—Ç–æ–¥—ã –Ω–∞—à–µ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –≤–Ω—É—Ç—Ä–∏ Data Access Layer (–º–æ–∂–Ω–æ –ø—Ä–æ—Å—Ç–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ):

```js
// In src/database/Workout.js
const DB = require('./db.json');
const { saveToDatabase } = require('./utils');

const getAllWorkouts = () => {
    return DB.workouts;
};

const getOneWorkout = (workoutId) => {
    const workout = DB.workouts.find(
        (workout) => workout.id === workoutId
    );
    if (!workout) {
        return;
    }
    return workout;
};

const createNewWorkout = (newWorkout) => {
    const isAlreadyAdded =
        DB.workouts.findIndex(
            (workout) => workout.name === newWorkout.name
        ) > -1;
    if (isAlreadyAdded) {
        return;
    }
    DB.workouts.push(newWorkout);
    saveToDatabase(DB);
    return newWorkout;
};

const updateOneWorkout = (workoutId, changes) => {
    const indexForUpdate = DB.workouts.findIndex(
        (workout) => workout.id === workoutId
    );
    if (indexForUpdate === -1) {
        return;
    }
    const updatedWorkout = {
        ...DB.workouts[indexForUpdate],
        ...changes,
        updatedAt: new Date().toLocaleString('en-US', {
            timeZone: 'UTC',
        }),
    };
    DB.workouts[indexForUpdate] = updatedWorkout;
    saveToDatabase(DB);
    return updatedWorkout;
};

const deleteOneWorkout = (workoutId) => {
    const indexForDeletion = DB.workouts.findIndex(
        (workout) => workout.id === workoutId
    );
    if (indexForDeletion === -1) {
        return;
    }
    DB.workouts.splice(indexForDeletion, 1);
    saveToDatabase(DB);
};

module.exports = {
    getAllWorkouts,
    createNewWorkout,
    getOneWorkout,
    updateOneWorkout,
    deleteOneWorkout,
};
```

–û—Ç–ª–∏—á–Ω–æ! –î–∞–≤–∞–π—Ç–µ –ø–µ—Ä–µ–π–¥–µ–º –∫ —Å–ª–µ–¥—É—é—â–µ–π –ª—É—á—à–µ–π –ø—Ä–∞–∫—Ç–∏–∫–µ –∏ –ø–æ—Å–º–æ—Ç—Ä–∏–º, –∫–∞–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –æ—à–∏–±–∫–∏.

### –û—Ç–≤–µ—á–∞—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–º–∏ –∫–æ–¥–∞–º–∏ –æ—à–∏–±–æ–∫ HTTP

–ú—ã –∑–∞—à–ª–∏ —É–∂–µ –¥–æ–≤–æ–ª—å–Ω–æ –¥–∞–ª–µ–∫–æ, –Ω–æ –µ—â–µ –Ω–µ –∑–∞–∫–æ–Ω—á–∏–ª–∏. –¢–µ–ø–µ—Ä—å –Ω–∞—à API —Å–ø–æ—Å–æ–±–µ–Ω –≤—ã–ø–æ–ª–Ω—è—Ç—å –±–∞–∑–æ–≤—ã–µ CRUD-–æ–ø–µ—Ä–∞—Ü–∏–∏ —Å —Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –¥–∞–Ω–Ω—ã—Ö. –≠—Ç–æ –∑–∞–º–µ—á–∞—Ç–µ–ª—å–Ω–æ, –Ω–æ –Ω–µ —Å–æ–≤—Å–µ–º –∏–¥–µ–∞–ª—å–Ω–æ.

–ü–æ—á–µ–º—É? –°–µ–π—á–∞—Å –æ–±—ä—è—Å–Ω—é.

–í –∏–¥–µ–∞–ª—å–Ω–æ–º –º–∏—Ä–µ –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –≥–ª–∞–¥–∫–æ –∏ –±–µ–∑ –æ—à–∏–±–æ–∫. –ù–æ, –∫–∞–∫ –≤—ã, –Ω–∞–≤–µ—Ä–Ω–æ–µ, –∑–Ω–∞–µ—Ç–µ, –≤ —Ä–µ–∞–ª—å–Ω–æ–º –º–∏—Ä–µ –º–æ–∂–µ—Ç –ø—Ä–æ–∏–∑–æ–π—Ç–∏ –º–Ω–æ–∂–µ—Å—Ç–≤–æ –æ—à–∏–±–æ–∫ - –∫–∞–∫ —Å —á–µ–ª–æ–≤–µ—á–µ—Å–∫–æ–π, —Ç–∞–∫ –∏ —Å —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–π —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è.

–í–∞–º, –Ω–∞–≤–µ—Ä–Ω–æ–µ, –∑–Ω–∞–∫–æ–º–æ —ç—Ç–æ —Å—Ç—Ä–∞–Ω–Ω–æ–µ —á—É–≤—Å—Ç–≤–æ, –∫–æ–≥–¥–∞ –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å —Å–∞–º–æ–≥–æ –Ω–∞—á–∞–ª–∞ –±–µ–∑ –∫–∞–∫–∏—Ö-–ª–∏–±–æ –æ—à–∏–±–æ–∫. –≠—Ç–æ –∑–¥–æ—Ä–æ–≤–æ –∏ –ø—Ä–∏—è—Ç–Ω–æ, –Ω–æ –∫–∞–∫ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏ –º—ã –±–æ–ª—å—à–µ –ø—Ä–∏–≤—ã–∫–ª–∏ –∫ —Ç–æ–º—É, —á—Ç–æ –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ. üòÅ

–¢–æ –∂–µ —Å–∞–º–æ–µ –æ—Ç–Ω–æ—Å–∏—Ç—Å—è –∏ –∫ –Ω–∞—à–µ–º—É API. –ú—ã –¥–æ–ª–∂–Ω—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ —Å–ª—É—á–∞–∏, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –ø–æ–π—Ç–∏ –Ω–µ —Ç–∞–∫, –∫–∞–∫ –Ω–∞–¥–æ, –∏–ª–∏ –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –æ—à–∏–±–∫–µ. –≠—Ç–æ —Ç–∞–∫–∂–µ –ø–æ–≤—ã—Å–∏—Ç –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å –Ω–∞—à–µ–≥–æ API.

–ö–æ–≥–¥–∞ —á—Ç–æ-—Ç–æ –∏–¥–µ—Ç –Ω–µ —Ç–∞–∫ (–ª–∏–±–æ –≤ –∑–∞–ø—Ä–æ—Å–µ, –ª–∏–±–æ –≤–Ω—É—Ç—Ä–∏ –Ω–∞—à–µ–≥–æ API), –º—ã –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –æ–±—Ä–∞—Ç–Ω–æ –∫–æ–¥—ã –æ—à–∏–±–æ–∫ HTTP. –Ø –≤–∏–¥–µ–ª –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª API, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –≤–æ–∑–≤—Ä–∞—â–∞–ª–∏ –∫–æ–¥ –æ—à–∏–±–∫–∏ `400`, –∫–æ–≥–¥–∞ –∑–∞–ø—Ä–æ—Å –±—ã–ª –æ—à–∏–±–æ—á–Ω—ã–º, –±–µ–∑ –∫–∞–∫–æ–≥–æ-–ª–∏–±–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è –æ —Ç–æ–º, –ü–û–ß–ï–ú–£ –ø—Ä–æ–∏–∑–æ—à–ª–∞ —ç—Ç–∞ –æ—à–∏–±–∫–∞ –∏–ª–∏ –≤ —á–µ–º –æ–Ω–∞ –∑–∞–∫–ª—é—á–∞–ª–∞—Å—å. –ü–æ—ç—Ç–æ–º—É –æ—Ç–ª–∞–¥–∫–∞ —Å—Ç–∞–Ω–æ–≤–∏–ª–∞—Å—å –º—É—á–µ–Ω–∏–µ–º.

–ò–º–µ–Ω–Ω–æ –ø–æ—ç—Ç–æ–º—É —Ö–æ—Ä–æ—à–µ–π –ø—Ä–∞–∫—Ç–∏–∫–æ–π —è–≤–ª—è–µ—Ç—Å—è –≤–æ–∑–≤—Ä–∞—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö –∫–æ–¥–æ–≤ –æ—à–∏–±–æ–∫ HTTP –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤. –≠—Ç–æ –ø–æ–º–æ–≥–∞–µ—Ç –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—é –∏–ª–∏ –∏–Ω–∂–µ–Ω–µ—Ä—É, —Å–æ–∑–¥–∞–≤—à–µ–º—É API, –ª–µ–≥—á–µ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—É.

–î–ª—è —É–ª—É—á—à–µ–Ω–∏—è –∫–∞—á–µ—Å—Ç–≤–∞ —Ä–∞–±–æ—Ç—ã –º—ã —Ç–∞–∫–∂–µ –º–æ–∂–µ–º –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –±—ã—Å—Ç—Ä–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ –≤–º–µ—Å—Ç–µ —Å –æ—Ç–≤–µ—Ç–æ–º –Ω–∞ –Ω–µ–µ. –ù–æ, –∫–∞–∫ —è —É–∂–µ –ø–∏—Å–∞–ª –≤–æ –≤–≤–µ–¥–µ–Ω–∏–∏, —ç—Ç–æ –Ω–µ –≤—Å–µ–≥–¥–∞ —Ä–∞–∑—É–º–Ω–æ –∏ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø—Ä–æ–¥—É–º–∞–Ω–æ —Å–∞–º–∏–º –∏–Ω–∂–µ–Ω–µ—Ä–æ–º.

–ù–∞–ø—Ä–∏–º–µ—Ä, –≤–æ–∑–≤—Ä–∞—Ç —á–µ–≥–æ-—Ç–æ –≤—Ä–æ–¥–µ **"–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —É–∂–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–æ"** –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ö–æ—Ä–æ—à–æ –ø—Ä–æ–¥—É–º–∞–Ω, –ø–æ—Å–∫–æ–ª—å–∫—É –≤—ã –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–≤–æ–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è—Ö, –∫–æ—Ç–æ—Ä—É—é —Å–ª–µ–¥—É–µ—Ç —Å–∫—Ä—ã–≤–∞—Ç—å.

–í –Ω–∞—à–µ–º Crossfit API –º—ã —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º –∫–æ–Ω–µ—á–Ω—É—é —Ç–æ—á–∫—É —Å–æ–∑–¥–∞–Ω–∏—è –∏ —É–≤–∏–¥–∏–º, –∫–∞–∫–∏–µ –æ—à–∏–±–∫–∏ –º–æ–≥—É—Ç –≤–æ–∑–Ω–∏–∫–Ω—É—Ç—å –∏ –∫–∞–∫ –∏—Ö –º–æ–∂–Ω–æ —Ä–∞–∑—Ä–µ—à–∏—Ç—å. –í –∫–æ–Ω—Ü–µ —ç—Ç–æ–≥–æ —Å–æ–≤–µ—Ç–∞ –≤—ã –Ω–∞–π–¥–µ—Ç–µ –ø–æ–ª–Ω—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –¥—Ä—É–≥–∏—Ö –∫–æ–Ω–µ—á–Ω—ã—Ö —Ç–æ—á–µ–∫.

–ù–∞—á–Ω–µ–º —Å –º–µ—Ç–æ–¥–∞ `createNewWorkout` –≤–Ω—É—Ç—Ä–∏ –Ω–∞—à–µ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫:

```js
// In src/controllers/workoutController.js
// ...

const createNewWorkout = (req, res) => {
    const { body } = req;
    if (
        !body.name ||
        !body.mode ||
        !body.equipment ||
        !body.exercises ||
        !body.trainerTips
    ) {
        return;
    }
    const newWorkout = {
        name: body.name,
        mode: body.mode,
        equipment: body.equipment,
        exercises: body.exercises,
        trainerTips: body.trainerTips,
    };
    const createdWorkout = workoutService.createNewWorkout(
        newWorkout
    );
    res.status(201).send({
        status: 'OK',
        data: createdWorkout,
    });
};

// ...
```

–ú—ã —É–∂–µ –æ—Ç–ª–æ–≤–∏–ª–∏ —Å–ª—É—á–∞–π, –∫–æ–≥–¥–∞ —Ç–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ –ø–æ—Å—Ç—Ä–æ–µ–Ω–æ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ –∏ –≤ –Ω–µ–º –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –æ–∂–∏–¥–∞–µ–º—ã–µ –Ω–∞–º–∏ –∫–ª—é—á–∏.

–≠—Ç–æ —Ö–æ—Ä–æ—à–∏–π –ø—Ä–∏–º–µ—Ä –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤ –æ—Ç–≤–µ—Ç HTTP-–æ—à–∏–±–∫–∏ `400` —Å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º —Å–æ–æ–±—â–µ–Ω–∏–µ–º –æ–± –æ—à–∏–±–∫–µ.

```js
// In src/controllers/workoutController.js
// ...

const createNewWorkout = (req, res) => {
    const { body } = req;
    if (
        !body.name ||
        !body.mode ||
        !body.equipment ||
        !body.exercises ||
        !body.trainerTips
    ) {
        res.status(400).send({
            status: 'FAILED',
            data: {
                error:
                    "One of the following keys is missing or is empty in request body: 'name', 'mode', 'equipment', 'exercises', 'trainerTips'",
            },
        });
        return;
    }
    const newWorkout = {
        name: body.name,
        mode: body.mode,
        equipment: body.equipment,
        exercises: body.exercises,
        trainerTips: body.trainerTips,
    };
    const createdWorkout = workoutService.createNewWorkout(
        newWorkout
    );
    res.status(201).send({
        status: 'OK',
        data: createdWorkout,
    });
};

// ...
```

–ï—Å–ª–∏ –º—ã –ø–æ–ø—ã—Ç–∞–µ–º—Å—è –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É, –Ω–æ –∑–∞–±—É–¥–µ–º —É–∫–∞–∑–∞—Ç—å —Å–≤–æ–π—Å—Ç–≤–æ "mode" –≤ —Ç–µ–ª–µ –∑–∞–ø—Ä–æ—Å–∞, —Ç–æ —É–≤–∏–¥–∏–º —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ –≤–º–µ—Å—Ç–µ —Å –∫–æ–¥–æ–º –æ—à–∏–±–∫–∏ `400` HTTP.

![Bildschirmfoto-2022-04-30-um-15.17.21](Bildschirmfoto-2022-04-30-um-15.17.21.png)

–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–π API, —Ç–µ–ø–µ—Ä—å –ª—É—á—à–µ –æ—Å–≤–µ–¥–æ–º–ª–µ–Ω –æ —Ç–æ–º, –Ω–∞ —á—Ç–æ —Å–ª–µ–¥—É–µ—Ç –æ–±—Ä–∞—Ç–∏—Ç—å –≤–Ω–∏–º–∞–Ω–∏–µ. –û–Ω —Å—Ä–∞–∑—É –ø–æ–Ω–∏–º–∞–µ—Ç, —á—Ç–æ –Ω—É–∂–Ω–æ –∑–∞–π—Ç–∏ –≤ —Ç–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ –∏ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å, –Ω–µ –ø—Ä–æ–ø—É—Å—Ç–∏–ª –ª–∏ –æ–Ω –æ–¥–Ω–æ –∏–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö —Å–≤–æ–π—Å—Ç–≤.

–ü–æ–∫–∞ –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å —ç—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ –±–æ–ª–µ–µ –æ–±—â–∏–º –¥–ª—è –≤—Å–µ—Ö —Å–≤–æ–π—Å—Ç–≤. –û–±—ã—á–Ω–æ –¥–ª—è —ç—Ç–æ–≥–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–∞–ª–∏–¥–∞—Ç–æ—Ä —Å—Ö–µ–º—ã.

–î–∞–≤–∞–π—Ç–µ –∑–∞–≥–ª—è–Ω–µ–º –Ω–∞ –æ–¥–∏–Ω —É—Ä–æ–≤–µ–Ω—å –≥–ª—É–±–∂–µ –≤ –Ω–∞—à —Å–µ—Ä–≤–∏—Å —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ –∏ –ø–æ—Å–º–æ—Ç—Ä–∏–º, –∫–∞–∫–∏–µ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –æ—à–∏–±–∫–∏ –º–æ–≥—É—Ç –≤–æ–∑–Ω–∏–∫–Ω—É—Ç—å.

```js
// In src/services/workoutService.js
// ...

const createNewWorkout = (newWorkout) => {
    const workoutToInsert = {
        ...newWorkout,
        id: uuid(),
        createdAt: new Date().toLocaleString('en-US', {
            timeZone: 'UTC',
        }),
        updatedAt: new Date().toLocaleString('en-US', {
            timeZone: 'UTC',
        }),
    };
    const createdWorkout = Workout.createNewWorkout(
        workoutToInsert
    );
    return createdWorkout;
};

// ...
```

–û–¥–Ω–∞ –≤–µ—â—å, –∫–æ—Ç–æ—Ä–∞—è –º–æ–∂–µ—Ç –ø–æ–π—Ç–∏ –Ω–µ —Ç–∞–∫, - —ç—Ç–æ –≤—Å—Ç–∞–≤–∫–∞ –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö `Workout.createNewWorkout()`. –Ø –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞—é –æ–±–µ—Ä–Ω—É—Ç—å —ç—Ç–æ—Ç –ø—Ä–æ—Ü–µ—Å—Å –≤ –±–ª–æ–∫ `try`/`catch`, —á—Ç–æ–±—ã –ø–æ–π–º–∞—Ç—å –æ—à–∏–±–∫—É, –∫–æ–≥–¥–∞ –æ–Ω–∞ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç.

```js
// In src/services/workoutService.js
// ...

const createNewWorkout = (newWorkout) => {
    const workoutToInsert = {
        ...newWorkout,
        id: uuid(),
        createdAt: new Date().toLocaleString('en-US', {
            timeZone: 'UTC',
        }),
        updatedAt: new Date().toLocaleString('en-US', {
            timeZone: 'UTC',
        }),
    };
    try {
        const createdWorkout = Workout.createNewWorkout(
            workoutToInsert
        );
        return createdWorkout;
    } catch (error) {
        throw error;
    }
};

// ...
```

–ö–∞–∂–¥–∞—è –æ—à–∏–±–∫–∞, –≤–æ–∑–Ω–∏–∫–∞—é—â–∞—è –≤ –º–µ—Ç–æ–¥–µ `Workout.createNewWorkout()`, –±—É–¥–µ—Ç –ø–µ—Ä–µ—Ö–≤–∞—á–µ–Ω–∞ –≤ –Ω–∞—à–µ–º –±–ª–æ–∫–µ `catch`. –ú—ã –ø—Ä–æ—Å—Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –µ–µ –æ–±—Ä–∞—Ç–Ω–æ, —á—Ç–æ–±—ã –ø–æ–∑–∂–µ —Å–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞—à–∏ –æ—Ç–≤–µ—Ç—ã –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞.

–î–∞–≤–∞–π—Ç–µ –æ–ø—Ä–µ–¥–µ–ª–∏–º –Ω–∞—à–∏ –æ—à–∏–±–∫–∏ –≤ —Ñ–∞–π–ª–µ `Workout.js`:

```js
// In src/database/Workout.js
// ...

const createNewWorkout = (newWorkout) => {
    const isAlreadyAdded =
        DB.workouts.findIndex(
            (workout) => workout.name === newWorkout.name
        ) > -1;
    if (isAlreadyAdded) {
        throw {
            status: 400,
            message: `Workout with the name '${newWorkout.name}' already exists`,
        };
    }
    try {
        DB.workouts.push(newWorkout);
        saveToDatabase(DB);
        return newWorkout;
    } catch (error) {
        throw {
            status: 500,
            message: error?.message || error,
        };
    }
};

// ...
```

–ö–∞–∫ –≤–∏–¥–Ω–æ, –æ—à–∏–±–∫–∞ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –¥–≤—É—Ö —á–∞—Å—Ç–µ–π - —Å—Ç–∞—Ç—É—Å–∞ –∏ —Å–æ–æ–±—â–µ–Ω–∏—è. –Ø –∏—Å–ø–æ–ª—å–∑—É—é –∑–¥–µ—Å—å —Ç–æ–ª—å–∫–æ –∫–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ **`throw`**, —á—Ç–æ–±—ã –ø–µ—Ä–µ–¥–∞—Ç—å –Ω–µ —Å—Ç—Ä–æ–∫—É, –∞ –¥—Ä—É–≥—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∞–Ω–Ω—ã—Ö, –∫–æ—Ç–æ—Ä–∞—è —Ç—Ä–µ–±—É–µ—Ç—Å—è –≤ `throw new Error()`.

–ù–µ–±–æ–ª—å—à–∏–º –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–æ–º –ø—Ä–æ—Å—Ç–æ–≥–æ –æ—Ç–±—Ä–∞—Å—ã–≤–∞–Ω–∏—è —è–≤–ª—è–µ—Ç—Å—è —Ç–æ, —á—Ç–æ –º—ã –Ω–µ –ø–æ–ª—É—á–∞–µ–º —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫—É —Å—Ç–µ–∫–∞. –ù–æ –æ–±—ã—á–Ω–æ –æ—Ç–±—Ä–∞—Å—ã–≤–∞–Ω–∏–µ–º –æ—à–∏–±–æ–∫ –∑–∞–Ω–∏–º–∞–µ—Ç—Å—è —Å—Ç–æ—Ä–æ–Ω–Ω—è—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –ø–æ –Ω–∞—à–µ–º—É –≤—ã–±–æ—Ä—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, Mongoose, –µ—Å–ª–∏ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö MongoDB). –ù–æ –¥–ª—è —Ü–µ–ª–µ–π –¥–∞–Ω–Ω–æ–≥–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞ —ç—Ç–æ –≤–ø–æ–ª–Ω–µ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ.

–¢–µ–ø–µ—Ä—å –º—ã –º–æ–∂–µ–º –æ—Ç–±—Ä–∞—Å—ã–≤–∞—Ç—å –∏ –ª–æ–≤–∏—Ç—å –æ—à–∏–±–∫–∏ –Ω–∞ —É—Ä–æ–≤–Ω–µ —Å–µ—Ä–≤–∏—Å–∞ –∏ –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º. –¢–µ–ø–µ—Ä—å –º—ã –º–æ–∂–µ–º –ø–µ—Ä–µ–π—Ç–∏ –∫ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—É —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏, –æ—Ç–ª–∞–≤–ª–∏–≤–∞—Ç—å –æ—à–∏–±–∫–∏ –∏ —Ä–µ–∞–≥–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –Ω–∏—Ö —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º.

```js
// In src/controllers/workoutController.js
// ...

const createNewWorkout = (req, res) => {
    const { body } = req;
    if (
        !body.name ||
        !body.mode ||
        !body.equipment ||
        !body.exercises ||
        !body.trainerTips
    ) {
        res.status(400).send({
            status: 'FAILED',
            data: {
                error:
                    "One of the following keys is missing or is empty in request body: 'name', 'mode', 'equipment', 'exercises', 'trainerTips'",
            },
        });
        return;
    }
    const newWorkout = {
        name: body.name,
        mode: body.mode,
        equipment: body.equipment,
        exercises: body.exercises,
        trainerTips: body.trainerTips,
    };
    // *** ADD ***
    try {
        const createdWorkout = workoutService.createNewWorkout(
            newWorkout
        );
        res.status(201).send({
            status: 'OK',
            data: createdWorkout,
        });
    } catch (error) {
        res.status(error?.status || 500).send({
            status: 'FAILED',
            data: { error: error?.message || error },
        });
    }
};

// ...
```

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —ç—Ç–æ –º–æ–∂–Ω–æ, –¥–≤–∞–∂–¥—ã –¥–æ–±–∞–≤–∏–≤ –æ–¥–Ω–æ–∏–º–µ–Ω–Ω—É—é –∑–∞–≥–æ—Ç–æ–≤–∫—É –∏–ª–∏ –Ω–µ —É–∫–∞–∑–∞–≤ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–µ —Å–≤–æ–π—Å—Ç–≤–æ –≤ —Ç–µ–ª–µ –∑–∞–ø—Ä–æ—Å–∞. –í–º–µ—Å—Ç–µ —Å —Å–æ–æ–±—â–µ–Ω–∏–µ–º –æ–± –æ—à–∏–±–∫–µ –≤—ã –¥–æ–ª–∂–Ω—ã –ø–æ–ª—É—á–∏—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –∫–æ–¥—ã –æ—à–∏–±–æ–∫ HTTP.

–ß—Ç–æ–±—ã –∑–∞–∫–æ–Ω—á–∏—Ç—å —ç—Ç—É —Ç–µ–º—É –∏ –ø–µ—Ä–µ–π—Ç–∏ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —Å–æ–≤–µ—Ç—É, –≤—ã –º–æ–∂–µ—Ç–µ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã –≤ —Å–ª–µ–¥—É—é—â–∏–µ —Ñ–∞–π–ª—ã –∏–ª–∏ –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–¥–µ–ª–∞—Ç—å —ç—Ç–æ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ:

=== "workoutController.js"

    ```js
    // In src/controllers/workoutController.js
    const workoutService = require('../services/workoutService');

    const getAllWorkouts = (req, res) => {
    	try {
    		const allWorkouts = workoutService.getAllWorkouts();
    		res.send({ status: 'OK', data: allWorkouts });
    	} catch (error) {
    		res.status(error?.status || 500).send({
    			status: 'FAILED',
    			data: { error: error?.message || error },
    		});
    	}
    };

    const getOneWorkout = (req, res) => {
    	const {
    		params: { workoutId },
    	} = req;
    	if (!workoutId) {
    		res.status(400).send({
    			status: 'FAILED',
    			data: {
    				error:
    					"Parameter ':workoutId' can not be empty",
    			},
    		});
    	}
    	try {
    		const workout = workoutService.getOneWorkout(
    			workoutId
    		);
    		res.send({ status: 'OK', data: workout });
    	} catch (error) {
    		res.status(error?.status || 500).send({
    			status: 'FAILED',
    			data: { error: error?.message || error },
    		});
    	}
    };

    const createNewWorkout = (req, res) => {
    	const { body } = req;
    	if (
    		!body.name ||
    		!body.mode ||
    		!body.equipment ||
    		!body.exercises ||
    		!body.trainerTips
    	) {
    		res.status(400).send({
    			status: 'FAILED',
    			data: {
    				error:
    					"One of the following keys is missing or is empty in request body: 'name', 'mode', 'equipment', 'exercises', 'trainerTips'",
    			},
    		});
    		return;
    	}
    	const newWorkout = {
    		name: body.name,
    		mode: body.mode,
    		equipment: body.equipment,
    		exercises: body.exercises,
    		trainerTips: body.trainerTips,
    	};
    	try {
    		const createdWorkout = workoutService.createNewWorkout(
    			newWorkout
    		);
    		res.status(201).send({
    			status: 'OK',
    			data: createdWorkout,
    		});
    	} catch (error) {
    		res.status(error?.status || 500).send({
    			status: 'FAILED',
    			data: { error: error?.message || error },
    		});
    	}
    };

    const updateOneWorkout = (req, res) => {
    	const {
    		body,
    		params: { workoutId },
    	} = req;
    	if (!workoutId) {
    		res.status(400).send({
    			status: 'FAILED',
    			data: {
    				error:
    					"Parameter ':workoutId' can not be empty",
    			},
    		});
    	}
    	try {
    		const updatedWorkout = workoutService.updateOneWorkout(
    			workoutId,
    			body
    		);
    		res.send({ status: 'OK', data: updatedWorkout });
    	} catch (error) {
    		res.status(error?.status || 500).send({
    			status: 'FAILED',
    			data: { error: error?.message || error },
    		});
    	}
    };

    const deleteOneWorkout = (req, res) => {
    	const {
    		params: { workoutId },
    	} = req;
    	if (!workoutId) {
    		res.status(400).send({
    			status: 'FAILED',
    			data: {
    				error:
    					"Parameter ':workoutId' can not be empty",
    			},
    		});
    	}
    	try {
    		workoutService.deleteOneWorkout(workoutId);
    		res.status(204).send({ status: 'OK' });
    	} catch (error) {
    		res.status(error?.status || 500).send({
    			status: 'FAILED',
    			data: { error: error?.message || error },
    		});
    	}
    };

    module.exports = {
    	getAllWorkouts,
    	getOneWorkout,
    	createNewWorkout,
    	updateOneWorkout,
    	deleteOneWorkout,
    	getRecordsForWorkout,
    };
    ```

=== "workoutService.js"

    ```js
    // In src/services/workoutService.js
    const { v4: uuid } = require('uuid');
    const Workout = require('../database/Workout');

    const getAllWorkouts = () => {
    	try {
    		const allWorkouts = Workout.getAllWorkouts();
    		return allWorkouts;
    	} catch (error) {
    		throw error;
    	}
    };

    const getOneWorkout = (workoutId) => {
    	try {
    		const workout = Workout.getOneWorkout(workoutId);
    		return workout;
    	} catch (error) {
    		throw error;
    	}
    };

    const createNewWorkout = (newWorkout) => {
    	const workoutToInsert = {
    		...newWorkout,
    		id: uuid(),
    		createdAt: new Date().toLocaleString('en-US', {
    			timeZone: 'UTC',
    		}),
    		updatedAt: new Date().toLocaleString('en-US', {
    			timeZone: 'UTC',
    		}),
    	};
    	try {
    		const createdWorkout = Workout.createNewWorkout(
    			workoutToInsert
    		);
    		return createdWorkout;
    	} catch (error) {
    		throw error;
    	}
    };

    const updateOneWorkout = (workoutId, changes) => {
    	try {
    		const updatedWorkout = Workout.updateOneWorkout(
    			workoutId,
    			changes
    		);
    		return updatedWorkout;
    	} catch (error) {
    		throw error;
    	}
    };

    const deleteOneWorkout = (workoutId) => {
    	try {
    		Workout.deleteOneWorkout(workoutId);
    	} catch (error) {
    		throw error;
    	}
    };

    module.exports = {
    	getAllWorkouts,
    	getOneWorkout,
    	createNewWorkout,
    	updateOneWorkout,
    	deleteOneWorkout,
    };
    ```

=== "Workout.js"

    ```js
    // In src/database/Workout.js
    const DB = require('./db.json');
    const { saveToDatabase } = require('./utils');

    const getAllWorkouts = () => {
    	try {
    		return DB.workouts;
    	} catch (error) {
    		throw { status: 500, message: error };
    	}
    };

    const getOneWorkout = (workoutId) => {
    	try {
    		const workout = DB.workouts.find(
    			(workout) => workout.id === workoutId
    		);
    		if (!workout) {
    			throw {
    				status: 400,
    				message: `Can't find workout with the id '${workoutId}'`,
    			};
    		}
    		return workout;
    	} catch (error) {
    		throw {
    			status: error?.status || 500,
    			message: error?.message || error,
    		};
    	}
    };

    const createNewWorkout = (newWorkout) => {
    	try {
    		const isAlreadyAdded =
    			DB.workouts.findIndex(
    				(workout) =>
    					workout.name === newWorkout.name
    			) > -1;
    		if (isAlreadyAdded) {
    			throw {
    				status: 400,
    				message: `Workout with the name '${newWorkout.name}' already exists`,
    			};
    		}
    		DB.workouts.push(newWorkout);
    		saveToDatabase(DB);
    		return newWorkout;
    	} catch (error) {
    		throw {
    			status: error?.status || 500,
    			message: error?.message || error,
    		};
    	}
    };

    const updateOneWorkout = (workoutId, changes) => {
    	try {
    		const isAlreadyAdded =
    			DB.workouts.findIndex(
    				(workout) => workout.name === changes.name
    			) > -1;
    		if (isAlreadyAdded) {
    			throw {
    				status: 400,
    				message: `Workout with the name '${changes.name}' already exists`,
    			};
    		}
    		const indexForUpdate = DB.workouts.findIndex(
    			(workout) => workout.id === workoutId
    		);
    		if (indexForUpdate === -1) {
    			throw {
    				status: 400,
    				message: `Can't find workout with the id '${workoutId}'`,
    			};
    		}
    		const updatedWorkout = {
    			...DB.workouts[indexForUpdate],
    			...changes,
    			updatedAt: new Date().toLocaleString('en-US', {
    				timeZone: 'UTC',
    			}),
    		};
    		DB.workouts[indexForUpdate] = updatedWorkout;
    		saveToDatabase(DB);
    		return updatedWorkout;
    	} catch (error) {
    		throw {
    			status: error?.status || 500,
    			message: error?.message || error,
    		};
    	}
    };

    const deleteOneWorkout = (workoutId) => {
    	try {
    		const indexForDeletion = DB.workouts.findIndex(
    			(workout) => workout.id === workoutId
    		);
    		if (indexForDeletion === -1) {
    			throw {
    				status: 400,
    				message: `Can't find workout with the id '${workoutId}'`,
    			};
    		}
    		DB.workouts.splice(indexForDeletion, 1);
    		saveToDatabase(DB);
    	} catch (error) {
    		throw {
    			status: error?.status || 500,
    			message: error?.message || error,
    		};
    	}
    };

    module.exports = {
    	getAllWorkouts,
    	createNewWorkout,
    	getOneWorkout,
    	updateOneWorkout,
    	deleteOneWorkout,
    };
    ```

### –ò–∑–±–µ–≥–∞–π—Ç–µ –≥–ª–∞–≥–æ–ª–æ–≤ –≤ –∏–º–µ–Ω–∞—Ö –∫–æ–Ω–µ—á–Ω—ã—Ö —Ç–æ—á–µ–∫

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≥–ª–∞–≥–æ–ª–æ–≤ –≤ –Ω–∞–∑–≤–∞–Ω–∏—è—Ö –∫–æ–Ω–µ—á–Ω—ã—Ö —Ç–æ—á–µ–∫ –Ω–µ –∏–º–µ–µ—Ç –æ—Å–æ–±–æ–≥–æ —Å–º—ã—Å–ª–∞ –∏, –ø–æ —Å—É—Ç–∏, —è–≤–ª—è–µ—Ç—Å—è –±–µ—Å–ø–æ–ª–µ–∑–Ω—ã–º. –ö–∞–∫ –ø—Ä–∞–≤–∏–ª–æ, –∫–∞–∂–¥—ã–π URL –¥–æ–ª–∂–µ–Ω —É–∫–∞–∑—ã–≤–∞—Ç—å –Ω–∞ —Ä–µ—Å—É—Ä—Å (–≤—Å–ø–æ–º–Ω–∏—Ç–µ –ø—Ä–∏–º–µ—Ä —Å –∫–æ—Ä–æ–±–∫–æ–π, –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω—ã–π –≤—ã—à–µ). –ù–∏—á–µ–≥–æ –±–æ–ª—å—à–µ –∏ –Ω–∏—á–µ–≥–æ –º–µ–Ω—å—à–µ.

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≥–ª–∞–≥–æ–ª–∞ –≤–Ω—É—Ç—Ä–∏ URL –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å —É —Å–∞–º–æ–≥–æ —Ä–µ—Å—É—Ä—Å–∞.

–ú—ã —É–∂–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–ª–∏ –∫–æ–Ω–µ—á–Ω—ã–µ —Ç–æ—á–∫–∏ –±–µ–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≥–ª–∞–≥–æ–ª–æ–≤ –≤–Ω—É—Ç—Ä–∏ URL, –Ω–æ –¥–∞–≤–∞–π—Ç–µ –ø–æ—Å–º–æ—Ç—Ä–∏–º, –∫–∞–∫ –±—ã –≤—ã–≥–ª—è–¥–µ–ª–∏ –Ω–∞—à–∏ URL, –µ—Å–ª–∏ –±—ã –º—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ –≥–ª–∞–≥–æ–ª—ã.

```js
// Current implementations (without verbs)
GET "/api/v1/workouts"
GET "/api/v1/workouts/:workoutId"
POST "/api/v1/workouts"
PATCH "/api/v1/workouts/:workoutId"
DELETE "/api/v1/workouts/:workoutId"

// Implementation using verbs
GET "/api/v1/getAllWorkouts"
GET "/api/v1/getWorkoutById/:workoutId"
CREATE "/api/v1/createWorkout"
PATCH "/api/v1/updateWorkout/:workoutId"
DELETE "/api/v1/deleteWorkout/:workoutId"
```

–í–∏–¥–∏—Ç–µ –ª–∏ –≤—ã —Ä–∞–∑–Ω–∏—Ü—É? –ù–∞–ª–∏—á–∏–µ —Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ —Ä–∞–∑–Ω—ã—Ö URL –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–≤–µ–¥–µ–Ω–∏—è –º–æ–∂–µ—Ç –±—ã—Å—Ç—Ä–æ –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –ø—É—Ç–∞–Ω–∏—Ü–µ –∏ –∏–∑–ª–∏—à–Ω–µ–π —Å–ª–æ–∂–Ω–æ—Å—Ç–∏.

–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ, —á—Ç–æ —É –Ω–∞—Å –µ—Å—Ç—å 300 —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –∫–æ–Ω–µ—á–Ω—ã—Ö —Ç–æ—á–µ–∫. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ URL –¥–ª—è –∫–∞–∂–¥–æ–π –∏–∑ –Ω–∏—Ö –º–æ–∂–µ—Ç —Å—Ç–∞—Ç—å –Ω–∞—Å—Ç–æ—è—â–∏–º –∞–¥–æ–º –¥–ª—è –Ω–∞–∫–ª–∞–¥–Ω—ã—Ö —Ä–∞—Å—Ö–æ–¥–æ–≤ (–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏).

–ï—â–µ –æ–¥–Ω–∞ –ø—Ä–∏—á–∏–Ω–∞, –ø–æ –∫–æ—Ç–æ—Ä–æ–π –Ω–µ —Å–ª–µ–¥—É–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≥–ª–∞–≥–æ–ª—ã –≤–Ω—É—Ç—Ä–∏ URL, –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤ —Ç–æ–º, —á—Ç–æ —Å–∞–º HTTP-–≥–ª–∞–≥–æ–ª —É–∂–µ —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –¥–µ–π—Å—Ç–≤–∏–µ.

–¢–∞–∫–∏–µ –≤–µ—â–∏, –∫–∞–∫ **"GET /api/v1/getAllWorkouts"** –∏–ª–∏ **"DELETE api/v1/deleteWorkout/workoutId"**, —è–≤–ª—è—é—Ç—Å—è –∏–∑–ª–∏—à–Ω–∏–º–∏.

–ï—Å–ª–∏ –≤–∑–≥–ª—è–Ω—É—Ç—å –Ω–∞ –Ω–∞—à—É —Ç–µ–∫—É—â—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é, —Ç–æ –æ–Ω–∞ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –Ω–∞–º–Ω–æ–≥–æ —á–∏—â–µ, –ø–æ—Å–∫–æ–ª—å–∫—É –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ç–æ–ª—å–∫–æ –¥–≤–∞ —Ä–∞–∑–Ω—ã—Ö URL, –∞ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ HTTP-–≥–ª–∞–≥–æ–ª –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é –ø–æ–ª–µ–∑–Ω—É—é –Ω–∞–≥—Ä—É–∑–∫—É –∑–∞–ø—Ä–æ—Å–∞.

–Ø –≤—Å–µ–≥–¥–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é, —á—Ç–æ HTTP-–≥–ª–∞–≥–æ–ª –æ–ø–∏—Å—ã–≤–∞–µ—Ç –¥–µ–π—Å—Ç–≤–∏–µ (—Ç–æ, —á—Ç–æ –º—ã —Ö–æ—Ç–∏–º —Å–¥–µ–ª–∞—Ç—å), –∞ —Å–∞–º URL (—É–∫–∞–∑—ã–≤–∞—é—â–∏–π –Ω–∞ —Ä–µ—Å—É—Ä—Å) - —Ü–µ–ª—å. **"GET /api/v1/workouts"** —Ç–∞–∫–∂–µ –±–æ–ª–µ–µ –ø–æ–Ω—è—Ç–µ–Ω –Ω–∞ —á–µ–ª–æ–≤–µ—á–µ—Å–∫–æ–º —è–∑—ã–∫–µ.

### –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∞—Ç—å —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã –≤–º–µ—Å—Ç–µ (–ª–æ–≥–∏—á–µ—Å–∫–∞—è –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç—å) {#group-associated-resources-together-logical-nesting-}

–ü—Ä–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ API –º–æ–≥—É—Ç –≤–æ–∑–Ω–∏–∫–Ω—É—Ç—å —Å–∏—Ç—É–∞—Ü–∏–∏, –∫–æ–≥–¥–∞ —Ä–µ—Å—É—Ä—Å—ã —Å–≤—è–∑–∞–Ω—ã —Å –¥—Ä—É–≥–∏–º–∏ —Ä–µ—Å—É—Ä—Å–∞–º–∏. –•–æ—Ä–æ—à–µ–π –ø—Ä–∞–∫—Ç–∏–∫–æ–π —è–≤–ª—è–µ—Ç—Å—è –∏—Ö –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –≤ –æ–¥–Ω—É –∫–æ–Ω–µ—á–Ω—É—é —Ç–æ—á–∫—É –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–µ –≤–ª–æ–∂–µ–Ω–∏–µ.

–î–æ–ø—É—Å—Ç–∏–º, –≤ –Ω–∞—à–µ–º API –µ—Å—Ç—å —Å–ø–∏—Å–æ–∫ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –∑–∞–ø–∏—Å–∞–ª–∏—Å—å –≤ –Ω–∞—à—É —Å–µ–∫—Ü–∏—é CrossFit ("—Å–µ–∫—Ü–∏—è" - —ç—Ç–æ –Ω–∞–∑–≤–∞–Ω–∏–µ —Ç—Ä–µ–Ω–∞–∂–µ—Ä–Ω–æ–≥–æ –∑–∞–ª–∞ CrossFit). –î–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã –º–æ—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –Ω–∞—à–∏—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤, –º—ã –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º –æ–±—â–∏–µ —Ä–µ–∫–æ—Ä–¥—ã –±–æ–∫—Å–∞ –Ω–∞ –∫–∞–∂–¥–æ–π —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.

–ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å—Ç—å —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞, –≤ –∫–æ—Ç–æ—Ä–æ–π –Ω—É–∂–Ω–æ –∫–∞–∫ –º–æ–∂–Ω–æ –±—ã—Å—Ç—Ä–µ–µ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π. –ú—ã —Ñ–∏–∫—Å–∏—Ä—É–µ–º –≤—Ä–µ–º—è –≤—Å–µ—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤, —á—Ç–æ–±—ã –∏–º–µ—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Ä–µ–º–µ–Ω–∏ –∫–∞–∂–¥–æ–≥–æ —É—á–∞—Å—Ç–Ω–∏–∫–∞, –≤—ã–ø–æ–ª–Ω–∏–≤—à–µ–≥–æ —ç—Ç—É —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É.

–¢–µ–ø–µ—Ä—å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥—É –Ω—É–∂–Ω–∞ –∫–æ–Ω–µ—á–Ω–∞—è —Ç–æ—á–∫–∞, –∫–æ—Ç–æ—Ä–∞—è –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –∑–∞–ø—Ä–æ—Å –≤—Å–µ—Ö –∑–∞–ø–∏—Å–µ–π –ø–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ, —á—Ç–æ–±—ã –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—å –µ–µ –≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ.

–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏, —É—á–∞—Å—Ç–Ω–∏–∫–∏ –∏ –∑–∞–ø–∏—Å–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ —Ä–∞–∑–Ω—ã—Ö –º–µ—Å—Ç–∞—Ö –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –Ω–∞–º –Ω—É–∂–Ω–∞ –∫–æ—Ä–æ–±–∫–∞ (–∑–∞–ø–∏—Å–∏) –≤–Ω—É—Ç—Ä–∏ –¥—Ä—É–≥–æ–π –∫–æ—Ä–æ–±–∫–∏ (—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏), –≤–µ—Ä–Ω–æ?

URI –¥–ª—è —ç—Ç–æ–π –∫–æ–Ω–µ—á–Ω–æ–π —Ç–æ—á–∫–∏ –±—É–¥–µ—Ç **/api/v1/workouts/:workoutId/records**. –≠—Ç–æ —Ö–æ—Ä–æ—à–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞ –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –ª–æ–≥–∏—á–µ—Å–∫–æ–π –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏ URL. –°–∞–º URL –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–æ–ª–∂–µ–Ω –ø–æ–≤—Ç–æ—Ä—è—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.

–î–∞–≤–∞–π—Ç–µ –ø—Ä–∏—Å—Ç—É–ø–∏–º –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —ç—Ç–æ–π –∫–æ–Ω–µ—á–Ω–æ–π —Ç–æ—á–∫–∏.

–í–æ-–ø–µ—Ä–≤—ã—Ö, –¥–æ–±–∞–≤—å—Ç–µ –≤ `db.json` –Ω–æ–≤—É—é —Ç–∞–±–ª–∏—Ü—É "`members`". –ü–æ–º–µ—Å—Ç–∏—Ç–µ –µ–µ –≤ —Ä–∞–∑–¥–µ–ª "`workouts`".

```json
{
    "workouts": [
        // ...
    ],
    "members": [
        {
            "id": "12a410bc-849f-4e7e-bfc8-4ef283ee4b19",
            "name": "Jason Miller",
            "gender": "male",
            "dateOfBirth": "23/04/1990",
            "email": "jason@mail.com",
            "password": "666349420ec497c1dc890c45179d44fb13220239325172af02d1fb6635922956"
        },
        {
            "id": "2b9130d4-47a7-4085-800e-0144f6a46059",
            "name": "Tiffany Brookston",
            "gender": "female",
            "dateOfBirth": "09/06/1996",
            "email": "tiffy@mail.com",
            "password": "8a1ea5669b749354110dcba3fac5546c16e6d0f73a37f35a84f6b0d7b3c22fcc"
        },
        {
            "id": "11817fb1-03a1-4b4a-8d27-854ac893cf41",
            "name": "Catrin Stevenson",
            "gender": "female",
            "dateOfBirth": "17/08/2001",
            "email": "catrin@mail.com",
            "password": "18eb2d6c5373c94c6d5d707650d02c3c06f33fac557c9cfb8cb1ee625a649ff3"
        },
        {
            "id": "6a89217b-7c28-4219-bd7f-af119c314159",
            "name": "Greg Bronson",
            "gender": "male",
            "dateOfBirth": "08/04/1993",
            "email": "greg@mail.com",
            "password": "a6dcde7eceb689142f21a1e30b5fdb868ec4cd25d5537d67ac7e8c7816b0e862"
        }
    ]
}
```

–ü—Ä–µ–∂–¥–µ —á–µ–º –≤—ã –Ω–∞—á–Ω–µ—Ç–µ —Å–ø—Ä–∞—à–∏–≤–∞—Ç—å - –¥–∞, –ø–∞—Ä–æ–ª–∏ —Ö—ç—à–∏—Ä—É—é—Ç—Å—è üòâ.

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –¥–æ–±–∞–≤—å—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ "–∑–∞–ø–∏—Å–µ–π" –≤ —Ä–∞–∑–¥–µ–ª "–£—á–∞—Å—Ç–Ω–∏–∫–∏".

```json
{
    "workouts": [
        // ...
    ],
    "members": [
        // ...
    ],
    "records": [
        {
            "id": "ad75d475-ac57-44f4-a02a-8f6def58ff56",
            "workout": "4a3d9aaa-608c-49a7-a004-66305ad4ab50",
            "record": "160 reps"
        },
        {
            "id": "0bff586f-2017-4526-9e52-fe3ea46d55ab",
            "workout": "d8be2362-7b68-4ea4-a1f6-03f8bc4eede7",
            "record": "7:23 minutes"
        },
        {
            "id": "365cc0bb-ba8f-41d3-bf82-83d041d38b82",
            "workout": "a24d2618-01d1-4682-9288-8de1343e53c7",
            "record": "358 reps"
        },
        {
            "id": "62251cfe-fdb6-4fa6-9a2d-c21be93ac78d",
            "workout": "4a3d9aaa-608c-49a7-a004-66305ad4ab50",
            "record": "145 reps"
        }
    ]
}
```

–ß—Ç–æ–±—ã —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —É –≤–∞—Å —Ç–µ –∂–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏, —á—Ç–æ –∏ —É –º–µ–Ω—è, —Å —Ç–µ–º–∏ –∂–µ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞–º–∏, —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏ –∏—Ö:

```json
{
    "workouts": [
        {
            "id": "61dbae02-c147-4e28-863c-db7bd402b2d6",
            "name": "Tommy V",
            "mode": "For Time",
            "equipment": ["barbell", "rope"],
            "exercises": [
                "21 thrusters",
                "12 rope climbs, 15 ft",
                "15 thrusters",
                "9 rope climbs, 15 ft",
                "9 thrusters",
                "6 rope climbs, 15 ft"
            ],
            "createdAt": "4/20/2022, 2:21:56 PM",
            "updatedAt": "4/20/2022, 2:21:56 PM",
            "trainerTips": [
                "Split the 21 thrusters as needed",
                "Try to do the 9 and 6 thrusters unbroken",
                "RX Weights: 115lb/75lb"
            ]
        },
        {
            "id": "4a3d9aaa-608c-49a7-a004-66305ad4ab50",
            "name": "Dead Push-Ups",
            "mode": "AMRAP 10",
            "equipment": ["barbell"],
            "exercises": [
                "15 deadlifts",
                "15 hand-release push-ups"
            ],
            "createdAt": "1/25/2022, 1:15:44 PM",
            "updatedAt": "3/10/2022, 8:21:56 AM",
            "trainerTips": [
                "Deadlifts are meant to be light and fast",
                "Try to aim for unbroken sets",
                "RX Weights: 135lb/95lb"
            ]
        },
        {
            "id": "d8be2362-7b68-4ea4-a1f6-03f8bc4eede7",
            "name": "Heavy DT",
            "mode": "5 Rounds For Time",
            "equipment": ["barbell", "rope"],
            "exercises": [
                "12 deadlifts",
                "9 hang power cleans",
                "6 push jerks"
            ],
            "createdAt": "11/20/2021, 5:39:07 PM",
            "updatedAt": "4/22/2022, 5:49:18 PM",
            "trainerTips": [
                "Aim for unbroken push jerks",
                "The first three rounds might feel terrible, but stick to it",
                "RX Weights: 205lb/145lb"
            ]
        },
        {
            "name": "Core Buster",
            "mode": "AMRAP 20",
            "equipment": ["rack", "barbell", "abmat"],
            "exercises": [
                "15 toes to bars",
                "10 thrusters",
                "30 abmat sit-ups"
            ],
            "trainerTips": [
                "Split your toes to bars in two sets maximum",
                "Go unbroken on the thrusters",
                "Take the abmat sit-ups as a chance to normalize your breath"
            ],
            "id": "a24d2618-01d1-4682-9288-8de1343e53c7",
            "createdAt": "4/22/2022, 5:50:17 PM",
            "updatedAt": "4/22/2022, 5:50:17 PM"
        }
    ],
    "members": [
        // ...
    ],
    "records": [
        // ...
    ]
}
```

–ò—Ç–∞–∫, –¥–∞–≤–∞–π—Ç–µ –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–∏–Ω—É—Ç –∑–∞–¥—É–º–∞–µ–º—Å—è –æ –Ω–∞—à–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏.

–° –æ–¥–Ω–æ–π —Å—Ç–æ—Ä–æ–Ω—ã —É –Ω–∞—Å –µ—Å—Ç—å —Ä–µ—Å—É—Ä—Å "–æ—Ç—Ä–∞–±–æ—Ç–∫–∏", —Å –¥—Ä—É–≥–æ–π - "–∑–∞–ø–∏—Å–∏".

–ß—Ç–æ–±—ã –¥–≤–∏–≥–∞—Ç—å—Å—è –¥–∞–ª—å—à–µ –≤ –Ω–∞—à–µ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ, –±—ã–ª–æ –±—ã —Ü–µ–ª–µ—Å–æ–æ–±—Ä–∞–∑–Ω–æ —Å–æ–∑–¥–∞—Ç—å –µ—â–µ –æ–¥–∏–Ω –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä, –µ—â–µ –æ–¥–∏–Ω —Å–µ—Ä–≤–∏—Å –∏ –µ—â–µ –æ–¥–Ω—É –∫–æ–ª–ª–µ–∫—Ü–∏—é –º–µ—Ç–æ–¥–æ–≤ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö, –æ—Ç–≤–µ—á–∞—é—â–∏—Ö –∑–∞ –∑–∞–ø–∏—Å–∏.

–í–µ–ª–∏–∫–∞ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å, —á—Ç–æ –Ω–∞–º –ø—Ä–∏–¥–µ—Ç—Å—è —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∫–æ–Ω–µ—á–Ω—ã–µ —Ç–æ—á–∫–∏ CRUD –∏ –¥–ª—è –∑–∞–ø–∏—Å–µ–π, –ø–æ—Å–∫–æ–ª—å–∫—É –≤ –±—É–¥—É—â–µ–º –∑–∞–ø–∏—Å–∏ —Ç–∞–∫–∂–µ –¥–æ–ª–∂–Ω—ã –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è, –æ–±–Ω–æ–≤–ª—è—Ç—å—Å—è –∏–ª–∏ —É–¥–∞–ª—è—Ç—å—Å—è. –ù–æ –ø–æ–∫–∞ —ç—Ç–æ –Ω–µ –±—É–¥–µ—Ç –æ—Å–Ω–æ–≤–Ω–æ–π –∑–∞–¥–∞—á–µ–π.

–ù–∞–º —Ç–∞–∫–∂–µ –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä –∑–∞–ø–∏—Å–µ–π, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –æ—Ç–ª–∞–≤–ª–∏–≤–∞—Ç—å —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏–µ –∑–∞–ø—Ä–æ—Å—ã –∫ –∑–∞–ø–∏—Å—è–º, –Ω–æ —Å–µ–π—á–∞—Å –æ–Ω –Ω–∞–º –Ω–µ –Ω—É–∂–µ–Ω. –≠—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—Ç–ª–∏—á–Ω—ã–º —à–∞–Ω—Å–æ–º –¥–ª—è –≤–∞—Å —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å CRUD-–æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–ª—è –∑–∞–ø–∏—Å–µ–π —Å –∏—Ö —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–º–∏ –º–∞—Ä—à—Ä—É—Ç–∞–º–∏ –∏ –Ω–µ–º–Ω–æ–≥–æ –ø–æ—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∞—Ç—å—Å—è.

```shell
# Create records controller
touch src/controllers/recordController.js

# Create records service
touch src/services/recordService.js

# Create records database methods
touch src/database/Record.js
```

–≠—Ç–æ –±—ã–ª–æ –ø—Ä–æ—Å—Ç–æ. –î–∞–≤–∞–π—Ç–µ –¥–≤–∏–≥–∞—Ç—å—Å—è –¥–∞–ª—å—à–µ –∏ –ø—Ä–∏—Å—Ç—É–ø–∏–º –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –º–µ—Ç–æ–¥–æ–≤ –Ω–∞—à–µ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.

```js
// In src/database/Record.js
const DB = require('./db.json');

const getRecordForWorkout = (workoutId) => {
    try {
        const record = DB.records.filter(
            (record) => record.workout === workoutId
        );
        if (!record) {
            throw {
                status: 400,
                message: `Can't find workout with the id '${workoutId}'`,
            };
        }
        return record;
    } catch (error) {
        throw {
            status: error?.status || 500,
            message: error?.message || error,
        };
    }
};
module.exports = { getRecordForWorkout };
```

–î–æ–≤–æ–ª—å–Ω–æ –ø—Ä–æ—Å—Ç–æ, –≤–µ—Ä–Ω–æ? –ú—ã –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤—ã–≤–∞–µ–º –≤—Å–µ –∑–∞–ø–∏—Å–∏, –æ—Ç–Ω–æ—Å—è—â–∏–µ—Å—è –∫ `id` —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ –∏–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –∑–∞–ø—Ä–æ—Å–∞.

–°–ª–µ–¥—É—é—â–µ–π –±—É–¥–µ—Ç –Ω–∞—à–∞ —Å–ª—É–∂–±–∞ –∑–∞–ø–∏—Å–µ–π:

```js
// In src/services/recordService.js
const Record = require('../database/Record');

const getRecordForWorkout = (workoutId) => {
    try {
        const record = Record.getRecordForWorkout(
            workoutId
        );
        return record;
    } catch (error) {
        throw error;
    }
};
module.exports = { getRecordForWorkout };
```

–û–ø—è—Ç—å –∂–µ, –Ω–∏—á–µ–≥–æ –Ω–æ–≤–æ–≥–æ –∑–¥–µ—Å—å –Ω–µ—Ç.

–¢–µ–ø–µ—Ä—å –º—ã –º–æ–∂–µ–º —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –º–∞—Ä—à—Ä—É—Ç –≤ –Ω–∞—à–µ–º –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä–µ –∏ –Ω–∞–ø—Ä–∞–≤–∏—Ç—å –∑–∞–ø—Ä–æ—Å –≤ —Å–ª—É–∂–±—É –∑–∞–ø–∏—Å–∏.

```js
// In src/v1/routes/workoutRoutes.js
const express = require('express');
const workoutController = require('../../controllers/workoutController');
// *** ADD ***
const recordController = require('../../controllers/recordController');

const router = express.Router();

router.get('/', workoutController.getAllWorkouts);

router.get('/:workoutId', workoutController.getOneWorkout);

// *** ADD ***
router.get(
    '/:workoutId/records',
    recordController.getRecordForWorkout
);

router.post('/', workoutController.createNewWorkout);

router.patch(
    '/:workoutId',
    workoutController.updateOneWorkout
);

router.delete(
    '/:workoutId',
    workoutController.deleteOneWorkout
);

module.exports = router;
```

–û—Ç–ª–∏—á–Ω–æ! –î–∞–≤–∞–π—Ç–µ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–µ–º —Ä–∞–±–æ—Ç—É –≤ –±—Ä–∞—É–∑–µ—Ä–µ.

–°–Ω–∞—á–∞–ª–∞ –º—ã –ø–µ—Ä–µ–±–µ—Ä–µ–º –≤—Å–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏.

![Bildschirmfoto-2022-04-30-um-15.36.48](Bildschirmfoto-2022-04-30-um-15.36.48.png)

–ü–æ—Å–º–æ—Ç—Ä–∏–º, —Å–º–æ–∂–µ–º –ª–∏ –º—ã –ø–æ–ª—É—á–∏—Ç—å –≤—Å–µ –∑–∞–ø–∏—Å–∏ –¥–ª—è —ç—Ç–æ–≥–æ:

![Bildschirmfoto-2022-04-30-um-15.36.32](Bildschirmfoto-2022-04-30-um-15.36.32.png)

–ö–∞–∫ –≤–∏–¥–∏—Ç–µ, –ª–æ–≥–∏—á–µ—Å–∫–∞—è –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç—å –∏–º–µ–µ—Ç —Å–º—ã—Å–ª, –∫–æ–≥–¥–∞ —É –≤–∞—Å –µ—Å—Ç—å —Ä–µ—Å—É—Ä—Å—ã, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ —Å–≤—è–∑–∞—Ç—å –º–µ–∂–¥—É —Å–æ–±–æ–π. –¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏ –≤—ã –º–æ–∂–µ—Ç–µ –≤–ª–æ–∂–∏—Ç—å –∏—Ö –∫–∞–∫ —É–≥–æ–¥–Ω–æ –≥–ª—É–±–æ–∫–æ, –Ω–æ —ç–º–ø–∏—Ä–∏—á–µ—Å–∫–∏–º –ø—Ä–∞–≤–∏–ª–æ–º –∑–¥–µ—Å—å —è–≤–ª—è–µ—Ç—Å—è –º–∞–∫—Å–∏–º—É–º —Ç—Ä–∏ —É—Ä–æ–≤–Ω—è.

–ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ —Å–¥–µ–ª–∞—Ç—å –≤–ª–æ–∂–µ–Ω–∏–µ –≥–ª—É–±–∂–µ, —Ç–æ –º–æ–∂–Ω–æ –Ω–µ–º–Ω–æ–≥–æ –ø–æ–¥–ø—Ä–∞–≤–∏—Ç—å –∑–∞–ø–∏—Å–∏ –≤ –≤–∞—à–µ–π –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö. –Ø –ø–æ–∫–∞–∂—É –≤–∞–º –Ω–µ–±–æ–ª—å—à–æ–π –ø—Ä–∏–º–µ—Ä.

–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ, —á—Ç–æ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥—É —Ç–∞–∫–∂–µ –Ω—É–∂–Ω–∞ –∫–æ–Ω–µ—á–Ω–∞—è —Ç–æ—á–∫–∞ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ç–æ–º, –∫–∞–∫–æ–π –∏–º–µ–Ω–Ω–æ —É—á–∞—Å—Ç–Ω–∏–∫ —è–≤–ª—è–µ—Ç—Å—è –≤–ª–∞–¥–µ–ª—å—Ü–µ–º —Ç–µ–∫—É—â–µ–π –∑–∞–ø–∏—Å–∏, –∏ –æ–Ω —Ö–æ—á–µ—Ç –ø–æ–ª—É—á–∞—Ç—å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –æ –Ω–µ–º.

–ö–æ–Ω–µ—á–Ω–æ, –º—ã –º–æ–∂–µ–º —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–π URI:

```js
GET /api/v1/workouts/:workoutId/records/members/:memberId
```

–ö–æ–Ω–µ—á–Ω–∞—è —Ç–æ—á–∫–∞ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –≤—Å–µ –º–µ–Ω–µ–µ —É–ø—Ä–∞–≤–ª—è–µ–º–æ–π, —á–µ–º –±–æ–ª—å—à–µ –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏ –º—ã –∫ –Ω–µ–π –¥–æ–±–∞–≤–ª—è–µ–º. –ü–æ—ç—Ç–æ–º—É —Ü–µ–ª–µ—Å–æ–æ–±—Ä–∞–∑–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å URI –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± —É—á–∞—Å—Ç–Ω–∏–∫–µ –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ –≤ –∑–∞–ø–∏—Å–∏.

–í –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —ç—Ç–æ –≤—ã–≥–ª—è–¥–∏—Ç —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:

```json
{
    "workouts": [
        // ...
    ],
    "members": [
        // ...
    ],
    "records": [
        // ...
        {
            "id": "ad75d475-ac57-44f4-a02a-8f6def58ff56",
            "workout": "4a3d9aaa-608c-49a7-a004-66305ad4ab50",
            "record": "160 reps",
            "memberId": "11817fb1-03a1-4b4a-8d27-854ac893cf41",
            "member": "/members/:memberId"
        }
    ]
}
```

–ö–∞–∫ –≤–∏–¥–Ω–æ, –º—ã –¥–æ–±–∞–≤–∏–ª–∏ –¥–≤–∞ —Å–≤–æ–π—Å—Ç–≤–∞ "memberId" –∏ "member" –∫ –Ω–∞—à–∏–º –∑–∞–ø–∏—Å—è–º –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö. –≠—Ç–æ –¥–∞–µ—Ç –æ–≥—Ä–æ–º–Ω–æ–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ: –Ω–∞–º –Ω–µ –Ω—É–∂–Ω–æ –≤—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –∫–æ–Ω–µ—á–Ω—É—é —Ç–æ—á–∫—É –±–æ–ª–µ–µ –≥–ª—É–±–æ–∫–∏–µ —Å–≤–æ–π—Å—Ç–≤–∞.

–§—Ä–æ–Ω—Ç–µ–Ω–¥—É –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –≤—ã–∑–≤–∞—Ç—å **GET /api/v1/workouts/:workoutId/records**, –∏ –æ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–∞–µ—Ç –≤—Å–µ –∑–∞–ø–∏—Å–∏, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –¥–∞–Ω–Ω–æ–π —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–æ–π.

–ö—Ä–æ–º–µ —Ç–æ–≥–æ, –æ–Ω –ø–æ–ª—É—á–∞–µ—Ç –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —É—á–∞—Å—Ç–Ω–∏–∫–∞ –∏ –∫–æ–Ω–µ—á–Ω—É—é —Ç–æ—á–∫—É –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± —ç—Ç–æ–º —É—á–∞—Å—Ç–Ω–∏–∫–µ. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –º—ã –∏–∑–±–µ–∂–∞–ª–∏ –±–æ–ª–µ–µ –≥–ª—É–±–æ–∫–æ–π –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏ –Ω–∞—à–µ–π –∫–æ–Ω–µ—á–Ω–æ–π —Ç–æ—á–∫–∏.

–ö–æ–Ω–µ—á–Ω–æ, —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –≤ —Ç–æ–º —Å–ª—É—á–∞–µ, –µ—Å–ª–∏ –º—ã –º–æ–∂–µ–º –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã –∫ "`/members/:memberId`" üòÅ –ü–æ—Ö–æ–∂–µ, —ç—Ç–æ –æ—Ç–ª–∏—á–Ω–∞—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ—á–Ω–∞—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Ç–∞–∫–æ–π —Å–∏—Ç—É–∞—Ü–∏–∏!

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏, —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –∏ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏ {#integrate-filtering-sorting-pagination}

–°–µ–π—á–∞—Å –º—ã –º–æ–∂–µ–º –≤—ã–ø–æ–ª–Ω—è—Ç—å –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –º–Ω–æ–≥–æ –æ–ø–µ—Ä–∞—Ü–∏–π —Å –ø–æ–º–æ—â—å—é –Ω–∞—à–µ–≥–æ API. –≠—Ç–æ –±–æ–ª—å—à–æ–π –ø—Ä–æ–≥—Ä–µ—Å—Å, –Ω–æ —ç—Ç–æ –µ—â–µ –Ω–µ –≤—Å–µ.

–í –ø–æ—Å–ª–µ–¥–Ω–∏—Ö —Ä–∞–∑–¥–µ–ª–∞—Ö –º—ã —Å–æ—Å—Ä–µ–¥–æ—Ç–æ—á–∏–ª–∏—Å—å –Ω–∞ —É–ª—É—á—à–µ–Ω–∏–∏ –æ–ø—ã—Ç–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –∏ —Å–ø–æ—Å–æ–±–æ–≤ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –Ω–∞—à–∏–º API. –ù–æ –æ–±—â–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –Ω–∞—à–µ–≥–æ API - —ç—Ç–æ –µ—â–µ –æ–¥–∏–Ω –∫–ª—é—á–µ–≤–æ–π —Ñ–∞–∫—Ç–æ—Ä, –Ω–∞–¥ –∫–æ—Ç–æ—Ä—ã–º –Ω–∞–º —Å–ª–µ–¥—É–µ—Ç –ø–æ—Ä–∞–±–æ—Ç–∞—Ç—å.

–ü–æ—ç—Ç–æ–º—É –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏, —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –∏ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏ —Ç–∞–∫–∂–µ —è–≤–ª—è–µ—Ç—Å—è –≤–∞–∂–Ω—ã–º —Ñ–∞–∫—Ç–æ—Ä–æ–º –≤ –º–æ–µ–º —Å–ø–∏—Å–∫–µ.

–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ, —á—Ç–æ –≤ –Ω–∞—à–µ–π –ë–î —Ö—Ä–∞–Ω–∏—Ç—Å—è 2 000 —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫, 450 –∑–∞–ø–∏—Å–µ–π –∏ 500 —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤. –ü—Ä–∏ –≤—ã–∑–æ–≤–µ –∫–æ–Ω–µ—á–Ω–æ–π —Ç–æ—á–∫–∏ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –≤—Å–µ—Ö —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ –º—ã –Ω–µ —Ö–æ—Ç–∏–º –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –≤—Å–µ 2000 —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ —Å—Ä–∞–∑—É. –≠—Ç–æ, –∫–æ–Ω–µ—á–Ω–æ, –±—É–¥–µ—Ç –æ—á–µ–Ω—å –º–µ–¥–ª–µ–Ω–Ω—ã–π –æ—Ç–∫–ª–∏–∫ –∏–ª–∏ –ø—Ä–∏–≤–µ–¥–µ—Ç –∫ –ø–∞–¥–µ–Ω–∏—é –Ω–∞—à–µ–π —Å–∏—Å—Ç–µ–º—ã (–≤–æ–∑–º–æ–∂–Ω–æ, —Å 200 000 üòÅ).

–í–æ—Ç –ø–æ—á–µ–º—É —Ç–∞–∫ –≤–∞–∂–Ω—ã —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏ –ø–∞–≥–∏–Ω–∞—Ü–∏—è. –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è, –∫–∞–∫ —É–∂–µ –ø–æ–Ω—è—Ç–Ω–æ –∏–∑ –Ω–∞–∑–≤–∞–Ω–∏—è, –ø–æ–ª–µ–∑–Ω–∞ —Ç–µ–º, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—É—á–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ –≤—Å–µ–π –Ω–∞—à–µ–π –∫–æ–ª–ª–µ–∫—Ü–∏–∏. –ù–∞–ø—Ä–∏–º–µ—Ä, –≤—Å–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏, –∏–º–µ—é—â–∏–µ —Ä–µ–∂–∏–º "–ù–∞ –≤—Ä–µ–º—è".

–ü–∞–≥–∏–Ω–∞—Ü–∏—è - —ç—Ç–æ –µ—â–µ –æ–¥–∏–Ω –º–µ—Ö–∞–Ω–∏–∑–º, –ø–æ–∑–≤–æ–ª—è—é—â–∏–π —Ä–∞–∑–¥–µ–ª–∏—Ç—å –≤—Å—é –∫–æ–ª–ª–µ–∫—Ü–∏—é —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ "—Å—Ç—Ä–∞–Ω–∏—Ü", –≥–¥–µ –∫–∞–∂–¥–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–æ—Å—Ç–æ–∏—Ç, –Ω–∞–ø—Ä–∏–º–µ—Ä, —Ç–æ–ª—å–∫–æ –∏–∑ –¥–≤–∞–¥—Ü–∞—Ç–∏ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫. –≠—Ç–æ—Ç –ø—Ä–∏–µ–º –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞–º –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ —Å –æ—Ç–≤–µ—Ç–æ–º –∫–ª–∏–µ–Ω—Ç—É –±–æ–ª–µ–µ –¥–≤–∞–¥—Ü–∞—Ç–∏ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫.

–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –º–æ–∂–µ—Ç –æ–∫–∞–∑–∞—Ç—å—Å—è —Å–ª–æ–∂–Ω–æ–π –∑–∞–¥–∞—á–µ–π. –ü–æ—ç—Ç–æ–º—É —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–µ–µ —Å–¥–µ–ª–∞—Ç—å –µ–µ –≤ –Ω–∞—à–µ–º API –∏ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∫–ª–∏–µ–Ω—Ç—É.

–ù–∞—á–Ω–µ–º —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –º–µ—Ö–∞–Ω–∏–∑–º–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –≤ –Ω–∞—à API. –ú—ã –º–æ–¥–µ—Ä–Ω–∏–∑–∏—Ä—É–µ–º –Ω–∞—à—É –∫–æ–Ω–µ—á–Ω—É—é —Ç–æ—á–∫—É, –∫–æ—Ç–æ—Ä–∞—è –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≤—Å–µ –æ—Ç—Ä–∞–±–æ—Ç–∫–∏, –ø—Ä–∏–Ω–∏–º–∞—è –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ñ–∏–ª—å—Ç—Ä–∞. –û–±—ã—á–Ω–æ –≤ GET-–∑–∞–ø—Ä–æ—Å–µ –º—ã –¥–æ–±–∞–≤–ª—è–µ–º –∫—Ä–∏—Ç–µ—Ä–∏–∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –≤ –∫–∞—á–µ—Å—Ç–≤–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –∑–∞–ø—Ä–æ—Å–∞.

–ù–∞—à –Ω–æ–≤—ã–π URI –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º, –µ—Å–ª–∏ –º—ã —Ö–æ—Ç–∏–º –ø–æ–ª—É—á–∏—Ç—å —Ç–æ–ª—å–∫–æ —Ç–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ —Ä–µ–∂–∏–º–µ "AMRAP" (**A**s **M**any **R**ounds **A**s **P**ossible): **/api/v1/workouts?mode=amrap.**.

–ß—Ç–æ–±—ã —Å–¥–µ–ª–∞—Ç—å —ç—Ç–æ –±–æ–ª–µ–µ –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–º, –Ω–∞–º –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –µ—â–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫. –í—Å—Ç–∞–≤—å—Ç–µ —ç—Ç–∏ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ –≤ –∫–æ–ª–ª–µ–∫—Ü–∏—é "workouts" –≤–Ω—É—Ç—Ä–∏ `db.json`:

```json
({
    "name": "Jumping (Not) Made Easy",
    "mode": "AMRAP 12",
    "equipment": ["jump rope"],
    "exercises": ["10 burpees", "25 double-unders"],
    "trainerTips": [
        "Scale to do 50 single-unders, if double-unders are too difficult"
    ],
    "id": "8f8318f8-b869-4e9d-bb78-88010193563a",
    "createdAt": "4/25/2022, 2:45:28 PM",
    "updatedAt": "4/25/2022, 2:45:28 PM"
},
{
    "name": "Burpee Meters",
    "mode": "3 Rounds For Time",
    "equipment": ["Row Erg"],
    "exercises": [
        "Row 500 meters",
        "21 burpees",
        "Run 400 meters",
        "Rest 3 minutes"
    ],
    "trainerTips": [
        "Go hard",
        "Note your time after the first run",
        "Try to hold your pace"
    ],
    "id": "0a5948af-5185-4266-8c4b-818889657e9d",
    "createdAt": "4/25/2022, 2:48:53 PM",
    "updatedAt": "4/25/2022, 2:48:53 PM"
},
{
    "name": "Dumbbell Rower",
    "mode": "AMRAP 15",
    "equipment": ["Dumbbell"],
    "exercises": [
        "15 dumbbell rows, left arm",
        "15 dumbbell rows, right arm",
        "50-ft handstand walk"
    ],
    "trainerTips": [
        "RX weights for women: 35-lb",
        "RX weights for men: 50-lb"
    ],
    "id": "3dc53bc8-27b8-4773-b85d-89f0a354d437",
    "createdAt": "4/25/2022, 2:56:03 PM",
    "updatedAt": "4/25/2022, 2:56:03 PM"
})
```

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –º—ã –¥–æ–ª–∂–Ω—ã –ø—Ä–∏–Ω–∏–º–∞—Ç—å –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞. –ù–∞—à –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ –±—É–¥–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –º–µ—Å—Ç–æ–º –¥–ª—è –Ω–∞—á–∞–ª–∞:

```js
// In src/controllers/workoutController.js
// ...

const getAllWorkouts = (req, res) => {
    // *** ADD ***
    const { mode } = req.query;
    try {
        // *** ADD ***
        const allWorkouts = workoutService.getAllWorkouts({
            mode,
        });
        res.send({ status: 'OK', data: allWorkouts });
    } catch (error) {
        res.status(error?.status || 500).send({
            status: 'FAILED',
            data: { error: error?.message || error },
        });
    }
};

// ...
```

–ò–∑ –æ–±—ä–µ–∫—Ç–∞ `req.query` –º—ã –∏–∑–≤–ª–µ–∫–∞–µ–º "`mode`" –∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä `workoutService.getAllWorkouts`. –≠—Ç–æ –±—É–¥–µ—Ç –æ–±—ä–µ–∫—Ç, —Å–æ—Å—Ç–æ—è—â–∏–π –∏–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –Ω–∞—à–µ–≥–æ —Ñ–∏–ª—å—Ç—Ä–∞.

–Ø –∏—Å–ø–æ–ª—å–∑—É—é –∑–¥–µ—Å—å —Å–æ–∫—Ä–∞—â–µ–Ω–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å, —á—Ç–æ–±—ã —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –∫–ª—é—á "`mode`" –≤–Ω—É—Ç—Ä–∏ –æ–±—ä–µ–∫—Ç–∞ —Å–æ –∑–Ω–∞—á–µ–Ω–∏–µ–º, —Ä–∞–≤–Ω—ã–º –∑–Ω–∞—á–µ–Ω–∏—é, —Å–æ–¥–µ—Ä–∂–∞—â–µ–º—É—Å—è –≤ "`req.query.mode`". –≠—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –ª–∏–±–æ –∏—Å—Ç–∏–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ, –ª–∏–±–æ –Ω–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–µ, –µ—Å–ª–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä –∑–∞–ø—Ä–æ—Å–∞ —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º "`mode`" –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç. –ú—ã –º–æ–∂–µ–º —Ä–∞—Å—à–∏—Ä–∏—Ç—å —ç—Ç–æ—Ç –æ–±—ä–µ–∫—Ç, –µ—Å–ª–∏ —Ö–æ—Ç–∏–º –ø—Ä–∏–Ω–∏–º–∞—Ç—å –±–æ–ª—å—à–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏.

–í –Ω–∞—à–µ–º —Å–µ—Ä–≤–∏—Å–µ `workout` –ø–µ—Ä–µ–¥–∞–¥–∏–º –µ–≥–æ –≤ –º–µ—Ç–æ–¥ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:

```js
// In src/services/workoutService.js
// ...

const getAllWorkouts = (filterParams) => {
    try {
        // *** ADD ***
        const allWorkouts = Workout.getAllWorkouts(
            filterParams
        );
        return allWorkouts;
    } catch (error) {
        throw error;
    }
};

// ...
```

–¢–µ–ø–µ—Ä—å –º—ã –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–≥–æ –≤ –Ω–∞—à–µ–º –º–µ—Ç–æ–¥–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏ –ø—Ä–∏–º–µ–Ω–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é:

```js
// In src/database/Workout.js
// ...

const getAllWorkouts = (filterParams) => {
    try {
        let workouts = DB.workouts;
        if (filterParams.mode) {
            return DB.workouts.filter((workout) =>
                workout.mode
                    .toLowerCase()
                    .includes(filterParams.mode)
            );
        }
        // Other if-statements will go here for different parameters
        return workouts;
    } catch (error) {
        throw { status: 500, message: error };
    }
};

// ...
```

–î–æ–≤–æ–ª—å–Ω–æ –ø—Ä–æ—Å—Ç–æ, –≤–µ—Ä–Ω–æ? –í—Å–µ, —á—Ç–æ –º—ã –∑–¥–µ—Å—å –¥–µ–ª–∞–µ–º, —ç—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ–º, –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –ª–∏ —É –Ω–∞—Å –µ—Å—Ç—å –∏—Å—Ç–∏–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è –∫–ª—é—á–∞ "`mode`" –≤–Ω—É—Ç—Ä–∏ –Ω–∞—à–∏—Ö "`filterParams`". –ï—Å–ª–∏ –æ–Ω–æ –∏—Å—Ç–∏–Ω–Ω–æ, —Ç–æ –º—ã –æ—Ç—Ñ–∏–ª—å—Ç—Ä—É–µ–º –≤—Å–µ —Ç–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –∏–º–µ—é—Ç —Ç–∞–∫–æ–µ –∂–µ –∑–Ω–∞—á–µ–Ω–∏–µ "`mode`". –ï—Å–ª–∏ —ç—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ –Ω–µ –∏—Å—Ç–∏–Ω–Ω–æ, —Ç–æ –ø–∞—Ä–∞–º–µ—Ç—Ä –∑–∞–ø—Ä–æ—Å–∞ "`mode`" –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç, –∏ –º—ã –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –≤—Å–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏, –ø–æ—Å–∫–æ–ª—å–∫—É –≤ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –Ω–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏.

–ú—ã –æ–ø—Ä–µ–¥–µ–ª–∏–ª–∏ "`workouts`" –∑–¥–µ—Å—å –∫–∞–∫ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é "`let`", –ø–æ—Ç–æ–º—É —á—Ç–æ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö if-–∑–∞—è–≤–æ–∫ –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ñ–∏–ª—å—Ç—Ä–æ–≤ –º—ã –º–æ–∂–µ–º –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∞—Ç—å "`workouts`" –∏ –≤—ã—Å—Ç—Ä–æ–∏—Ç—å —Ü–µ–ø–æ—á–∫—É —Ñ–∏–ª—å—Ç—Ä–æ–≤.

–í –±—Ä–∞—É–∑–µ—Ä–µ –º–æ–∂–Ω–æ –∑–∞–π—Ç–∏ –ø–æ –∞–¥—Ä–µ—Å—É `localhost:3000/api/v1/workouts?mode=amrap` –∏ –ø–æ–ª—É—á–∏—Ç—å –≤—Å–µ —Ö—Ä–∞–Ω—è—â–∏–µ—Å—è "AMRAP" —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏:

![Bildschirmfoto-2022-04-30-um-15.48.57](Bildschirmfoto-2022-04-30-um-15.48.57.png)

–ï—Å–ª–∏ –Ω–µ —É–∫–∞–∑—ã–≤–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä –∑–∞–ø—Ä–æ—Å–∞, —Ç–æ –≤—ã –ø–æ–ª—É—á–∏—Ç–µ –≤—Å–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏, –∫–∞–∫ –∏ —Ä–∞–Ω—å—à–µ. –î–∞–ª–µ–µ –º–æ–∂–Ω–æ –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –¥–æ–±–∞–≤–∏—Ç—å "for%20time" –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∑–Ω–∞—á–µ–Ω–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ "mode" (–ø–æ–º–Ω–∏—Ç–µ --> "%20" –æ–∑–Ω–∞—á–∞–µ—Ç "–ø—Ä–æ–±–µ–ª") –∏ –ø–æ–ª—É—á–∏—Ç—å –≤—Å–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ —Å —Ä–µ–∂–∏–º–æ–º "For Time", –µ—Å–ª–∏ —Ç–∞–∫–æ–≤—ã–µ –∏–º–µ—é—Ç—Å—è –≤ –ø–∞–º—è—Ç–∏.

–ü—Ä–∏ –≤–≤–æ–¥–µ –∑–Ω–∞—á–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä–æ–µ –Ω–µ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –ø–∞–º—è—Ç–∏, –≤—ã –¥–æ–ª–∂–Ω—ã –ø–æ–ª—É—á–∏—Ç—å –ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤.

–ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –∏ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏ —Å–ª–µ–¥—É—é—Ç —Ç–æ–π –∂–µ —Ñ–∏–ª–æ—Å–æ—Ñ–∏–∏. –†–∞—Å—Å–º–æ—Ç—Ä–∏–º –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ñ—É–Ω–∫—Ü–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –º—ã –º–æ–≥–ª–∏ –±—ã —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å:

-   –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫, –¥–ª—è –∫–æ—Ç–æ—Ä—ã—Ö —Ç—Ä–µ–±—É–µ—Ç—Å—è —à—Ç–∞–Ω–≥–∞: **/api/v1/workouts?equipment=barbell**.
-   –ü–æ–ª—É—á–∏—Ç—å —Ç–æ–ª—å–∫–æ 5 —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫: **/api/v1/workouts?length=5**.
-   –ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏ –ø–æ–ª—É—á–∞—Ç—å –≤—Ç–æ—Ä—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É: **/api/v1/workouts?page=2**
-   –û—Ç—Å–æ—Ä—Ç–∏—Ä—É–π—Ç–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ –≤ –æ—Ç–≤–µ—Ç–µ –≤ –ø–æ—Ä—è–¥–∫–µ —É–±—ã–≤–∞–Ω–∏—è –ø–æ –¥–∞—Ç–µ –∏—Ö —Å–æ–∑–¥–∞–Ω–∏—è: **/api/v1/workouts?sort=-createdAt**.
-   –ú–æ–∂–Ω–æ —Ç–∞–∫–∂–µ –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å, –Ω–∞–ø—Ä–∏–º–µ—Ä, 10 –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫: **/api/v1/workouts?sort=-updatedAt&length=10**.

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫—ç—à–∞ –¥–∞–Ω–Ω—ã—Ö —Ç–∞–∫–∂–µ —è–≤–ª—è–µ—Ç—Å—è –æ—Ç–ª–∏—á–Ω–æ–π –ø—Ä–∞–∫—Ç–∏–∫–æ–π –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –æ–±—â–µ–≥–æ –≤–ø–µ—á–∞—Ç–ª–µ–Ω–∏—è –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –Ω–∞—à–µ–≥–æ API.

–ò–º–µ–µ—Ç —Å–º—ã—Å–ª –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫—ç—à –¥–ª—è –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö, –µ—Å–ª–∏ —ç—Ç–∏ –¥–∞–Ω–Ω—ã–µ —è–≤–ª—è—é—Ç—Å—è —á–∞—Å—Ç–æ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º—ã–º —Ä–µ—Å—É—Ä—Å–æ–º –∏–ª–∏/–∏ –∑–∞–ø—Ä–æ—Å —ç—Ç–∏—Ö –¥–∞–Ω–Ω—ã—Ö –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —è–≤–ª—è–µ—Ç—Å—è —Ç—è–∂–µ–ª–æ–π –∑–∞–¥–∞—á–µ–π –∏ –º–æ–∂–µ—Ç –∑–∞–Ω–∏–º–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–µ–∫—É–Ω–¥.

–í—ã –º–æ–∂–µ—Ç–µ —Ö—Ä–∞–Ω–∏—Ç—å —Ç–∞–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –≤ –∫—ç—à–µ –∏ –æ–±—Å–ª—É–∂–∏–≤–∞—Ç—å –∏—Ö –æ—Ç—Ç—É–¥–∞, –≤–º–µ—Å—Ç–æ —Ç–æ–≥–æ —á—Ç–æ–±—ã –∫–∞–∂–¥—ã–π —Ä–∞–∑ –æ–±—Ä–∞—â–∞—Ç—å—Å—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –∑–∞–ø—Ä–æ—Å–∞.

–ü—Ä–∏ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö –∏–∑ –∫—ç—à–∞ —Å–ª–µ–¥—É–µ—Ç –ø–æ–º–Ω–∏—Ç—å, —á—Ç–æ —ç—Ç–∏ –¥–∞–Ω–Ω—ã–µ –º–æ–≥—É—Ç —É—Å—Ç–∞—Ä–µ—Ç—å. –ü–æ—ç—Ç–æ–º—É –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–ª–µ–¥–∏—Ç—å –∑–∞ —Ç–µ–º, —á—Ç–æ–±—ã –¥–∞–Ω–Ω—ã–µ –≤ –∫—ç—à–µ –≤—Å–µ–≥–¥–∞ –±—ã–ª–∏ –∞–∫—Ç—É–∞–ª—å–Ω—ã–º–∏.

–î–ª—è —ç—Ç–æ–≥–æ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π. –û–¥–Ω–∏–º –∏–∑ –ø–æ–¥—Ö–æ–¥—è—â–∏—Ö –ø—Ä–∏–º–µ—Ä–æ–≤ —è–≤–ª—è–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ [redis](https://www.npmjs.com/package/redis) –∏–ª–∏ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–æ–≥–æ –ü–û express [apicache](https://www.npmjs.com/package/apicache).

–Ø –±—ã –≤—ã–±—Ä–∞–ª apicache, –Ω–æ –µ—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Redis, —Ç–æ —è –º–æ–≥—É –Ω–∞—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –ø–æ—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞—Ç—å –≤–∞–º –æ–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è —Å –∏—Ö –∑–∞–º–µ—á–∞—Ç–µ–ª—å–Ω–æ–π [docs](https://docs.redis.com/latest/rs/references/client_references/client_nodejs/).

–î–∞–≤–∞–π—Ç–µ –ø–æ–¥—É–º–∞–µ–º –æ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –Ω–∞—à–µ–≥–æ API, –≤ –∫–æ—Ç–æ—Ä–æ–º –∫—ç—à –∏–º–µ–ª –±—ã —Å–º—ã—Å–ª. –Ø –¥—É–º–∞—é, —á—Ç–æ –∑–∞–ø—Ä–æ—Å –Ω–∞ –ø–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –æ—Ç—Ä–∞–±–æ—Ç–æ–∫ –±—É–¥–µ—Ç —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –æ–±—Å–ª—É–∂–∏–≤–∞—Ç—å—Å—è –∏–∑ –Ω–∞—à–µ–≥–æ –∫—ç—à–∞.

–°–Ω–∞—á–∞–ª–∞ —É—Å—Ç–∞–Ω–æ–≤–∏–º –Ω–∞—à–µ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–æ–µ –ü–û:

```shell
npm i apicache
```

–¢–µ–ø–µ—Ä—å –Ω–∞–º –Ω—É–∂–Ω–æ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –µ–≥–æ –≤ –Ω–∞—à –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä –∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –µ–≥–æ.

```js
// In src/v1/routes/workoutRoutes.js
const express = require('express');
// *** ADD ***
const apicache = require('apicache');
const workoutController = require('../../controllers/workoutController');
const recordController = require('../../controllers/recordController');

const router = express.Router();
// *** ADD ***
const cache = apicache.middleware;

// *** ADD ***
router.get(
    '/',
    cache('2 minutes'),
    workoutController.getAllWorkouts
);

router.get('/:workoutId', workoutController.getOneWorkout);

router.get(
    '/:workoutId/records',
    recordController.getRecordForWorkout
);

router.post('/', workoutController.createNewWorkout);

router.patch(
    '/:workoutId',
    workoutController.updateOneWorkout
);

router.delete(
    '/:workoutId',
    workoutController.deleteOneWorkout
);

module.exports = router;
```

–ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã –¥–æ–≤–æ–ª—å–Ω–æ –ø—Ä–æ—Å—Ç–æ–µ, –Ω–µ —Ç–∞–∫ –ª–∏? –ú—ã –º–æ–∂–µ–º –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –Ω–æ–≤—ã–π –∫—ç—à, –≤—ã–∑–≤–∞–≤ **apicache.middleware**, –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–≥–æ –∫–∞–∫ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–æ–µ –∑–≤–µ–Ω–æ –≤–Ω—É—Ç—Ä–∏ –Ω–∞—à–µ–≥–æ –º–∞—Ä—à—Ä—É—Ç–∞ get. –ï–≥–æ –Ω—É–∂–Ω–æ –ø—Ä–æ—Å—Ç–æ –ø–æ–º–µ—Å—Ç–∏—Ç—å –≤ –∫–∞—á–µ—Å—Ç–≤–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –º–µ–∂–¥—É —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–º –º–∞—Ä—à—Ä—É—Ç–æ–º –∏ –Ω–∞—à–∏–º –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–º —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏.

–í–Ω—É—Ç—Ä–∏ –Ω–µ–≥–æ –º–æ–∂–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å, –∫–∞–∫ –¥–æ–ª–≥–æ –±—É–¥—É—Ç –∫—ç—à–∏—Ä–æ–≤–∞—Ç—å—Å—è –¥–∞–Ω–Ω—ã–µ. –î–ª—è –¥–∞–Ω–Ω–æ–≥–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞ —è –≤—ã–±—Ä–∞–ª –∑–Ω–∞—á–µ–Ω–∏–µ 2 –º–∏–Ω—É—Ç—ã. –í—Ä–µ–º—è –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ç–æ–≥–æ, –∫–∞–∫ –±—ã—Å—Ç—Ä–æ –∏–ª–∏ –∫–∞–∫ —á–∞—Å—Ç–æ –º–µ–Ω—è—é—Ç—Å—è –¥–∞–Ω–Ω—ã–µ –≤ –∫—ç—à–µ.

–î–∞–≤–∞–π—Ç–µ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–µ–º!

–í Postman –∏–ª–∏ –¥—Ä—É–≥–æ–º HTTP-–∫–ª–∏–µ–Ω—Ç–µ –Ω–∞ –≤–∞—à –≤—ã–±–æ—Ä —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–ª—É—á–∏—Ç –≤—Å–µ –æ—Ç—Ä–∞–±–æ—Ç–∫–∏. –î–æ —Å–∏—Ö –ø–æ—Ä —è –¥–µ–ª–∞–ª —ç—Ç–æ –≤ –±—Ä–∞—É–∑–µ—Ä–µ, –Ω–æ –º–Ω–µ —Ö–æ—Ç–µ–ª–æ—Å—å –±—ã –ª—É—á—à–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç—å –≤—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞. –ü–æ—ç—Ç–æ–º—É —Å–µ–π—á–∞—Å —è –∑–∞–ø—Ä–∞—à–∏–≤–∞—é —Ä–µ—Å—É—Ä—Å —á–µ—Ä–µ–∑ Postman.

–î–∞–≤–∞–π—Ç–µ –≤—ã–∑–æ–≤–µ–º –Ω–∞—à –∑–∞–ø—Ä–æ—Å –≤ –ø–µ—Ä–≤—ã–π —Ä–∞–∑:

![Bildschirmfoto-2022-04-26-um-15.36.46-1](Bildschirmfoto-2022-04-26-um-15.36.46-1.png)

–ö–∞–∫ –≤–∏–¥–Ω–æ, –Ω–∞ –æ—Ç–≤–µ—Ç –Ω–∞—à–µ–º—É API –ø–æ—Ç—Ä–µ–±–æ–≤–∞–ª–æ—Å—å 22,93 –º—Å. –ö–∞–∫ —Ç–æ–ª—å–∫–æ –Ω–∞—à –∫—ç—à —Å–Ω–æ–≤–∞ –æ–ø—É—Å—Ç–µ–µ—Ç (—á–µ—Ä–µ–∑ –¥–≤–µ –º–∏–Ω—É—Ç—ã), –µ–≥–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–Ω–æ–≤–∞ –∑–∞–ø–æ–ª–Ω–∏—Ç—å. –≠—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å –ø–µ—Ä–≤—ã–º –∑–∞–ø—Ä–æ—Å–æ–º.

–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –≤ –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω–æ–º –≤—ã—à–µ —Å–ª—É—á–∞–µ –¥–∞–Ω–Ω—ã–µ –±—ã–ª–∏ –ø–æ–ª—É—á–µ–Ω—ã –ù–ï –∏–∑ –Ω–∞—à–µ–≥–æ –∫—ç—à–∞. –û–Ω–∏ –±—ã–ª–∏ –ø–æ–ª—É—á–µ–Ω—ã "–æ–±—ã—á–Ω—ã–º" –ø—É—Ç–µ–º –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏ –∑–∞–ø–æ–ª–Ω–∏–ª–∏ –Ω–∞—à –∫—ç—à.

–¢–µ–ø–µ—Ä—å, –ø—Ä–∏ –≤—Ç–æ—Ä–æ–º –∑–∞–ø—Ä–æ—Å–µ, –º—ã –ø–æ–ª—É—á–∞–µ–º –º–µ–Ω—å—à–µ–µ –≤—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞, –ø–æ—Å–∫–æ–ª—å–∫—É –¥–∞–Ω–Ω—ã–µ –±—ã–ª–∏ –ø–æ–ª—É—á–µ–Ω—ã –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ –∏–∑ –∫—ç—à–∞:

![Bildschirmfoto-2022-04-26-um-15.36.59-1](Bildschirmfoto-2022-04-26-um-15.36.59-1.png)

–ú—ã —Å–º–æ–≥–ª–∏ –æ–±—Å–ª—É–∂–∏—Ç—å –∑–∞–ø—Ä–æ—Å –≤ —Ç—Ä–∏ —Ä–∞–∑–∞ –±—ã—Å—Ç—Ä–µ–µ, —á–µ–º –ø—Ä–∏ –ø—Ä–µ–¥—ã–¥—É—â–µ–º –∑–∞–ø—Ä–æ—Å–µ! –ò –≤—Å–µ —ç—Ç–æ –±–ª–∞–≥–æ–¥–∞—Ä—è –Ω–∞—à–µ–º—É –∫—ç—à—É.

–í –Ω–∞—à–µ–º –ø—Ä–∏–º–µ—Ä–µ –º—ã –∫—ç—à–∏—Ä–æ–≤–∞–ª–∏ —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –º–∞—Ä—à—Ä—É—Ç, –Ω–æ –≤—ã —Ç–∞–∫–∂–µ –º–æ–∂–µ—Ç–µ –∫—ç—à–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –º–∞—Ä—à—Ä—É—Ç—ã, —Ä–µ–∞–ª–∏–∑–æ–≤–∞–≤ —ç—Ç–æ —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:

```js
// In src/index.js
const express = require('express');
const bodyParser = require('body-parser');
// *** ADD ***
const apicache = require('apicache');
const v1WorkoutRouter = require('./v1/routes/workoutRoutes');

const app = express();
// *** ADD ***
const cache = apicache.middleware;
const PORT = process.env.PORT || 3000;

app.use(bodyParser.json());
// *** ADD ***
app.use(cache('2 minutes'));
app.use('/api/v1/workouts', v1WorkoutRouter);

app.listen(PORT, () => {
    console.log(`API is listening on port ${PORT}`);
});
```

–ï—Å—Ç—å –æ–¥–Ω–∞ **–≤–∞–∂–Ω–∞—è** –≤–µ—â—å, –∫–æ—Ç–æ—Ä—É—é —è —Ö–æ—Ç–µ–ª –±—ã –æ—Ç–º–µ—Ç–∏—Ç—å, –∫–æ–≥–¥–∞ —Ä–µ—á—å –∏–¥–µ—Ç –æ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–∏. –ù–µ—Å–º–æ—Ç—Ä—è –Ω–∞ —Ç–æ, —á—Ç–æ –æ–Ω–æ, –∫–∞–∑–∞–ª–æ—Å—å –±—ã, —Ä–µ—à–∞–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ –ø—Ä–æ–±–ª–µ–º, –æ–Ω–æ —Ç–∞–∫–∂–µ –º–æ–∂–µ—Ç –ø—Ä–∏–Ω–µ—Å—Ç–∏ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –≤ –≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ.

–ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –∫—ç—à–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–æ–º–Ω–∏—Ç—å –æ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –≤–µ—â–∞—Ö:

-   –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤—Å–µ–≥–¥–∞ —Å–ª–µ–¥–∏—Ç—å –∑–∞ —Ç–µ–º, —á—Ç–æ–±—ã –¥–∞–Ω–Ω—ã–µ –≤ –∫—ç—à–µ –±—ã–ª–∏ –∞–∫—Ç—É–∞–ª—å–Ω—ã–º–∏, –ø–æ—Å–∫–æ–ª—å–∫—É –≤—ã –Ω–µ —Ö–æ—Ç–∏—Ç–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—Ç—å —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ –¥–∞–Ω–Ω—ã–µ
-   –ø–æ–∫–∞ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –ø–µ—Ä–≤—ã–π –∑–∞–ø—Ä–æ—Å, –∞ –∫—ç—à –≤–æ—Ç-–≤–æ—Ç –∑–∞–ø–æ–ª–Ω–∏—Ç—Å—è –∏ –ø–æ—Å—Ç—É–ø—è—Ç –Ω–æ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Ä–µ—à–∏—Ç—å, –∑–∞–¥–µ—Ä–∂–∏–≤–∞—Ç—å –ª–∏ —ç—Ç–∏ –∑–∞–ø—Ä–æ—Å—ã –∏ –æ–±—Å–ª—É–∂–∏–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ –∫—ç—à–∞ –∏–ª–∏ –∂–µ –æ–Ω–∏ —Ç–∞–∫–∂–µ –ø–æ–ª—É—á–∞—Ç –¥–∞–Ω–Ω—ã–µ –ø—Ä—è–º–æ –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö, –∫–∞–∫ –∏ –ø–µ—Ä–≤—ã–π –∑–∞–ø—Ä–æ—Å
-   —ç—Ç–æ –µ—â–µ –æ–¥–∏–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≤ –≤–∞—à–µ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–µ, –µ—Å–ª–∏ –≤—ã –≤—ã–±–∏—Ä–∞–µ—Ç–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π –∫—ç—à, —Ç–∞–∫–æ–π –∫–∞–∫ Redis (–ø–æ—ç—Ç–æ–º—É –≤—ã –¥–æ–ª–∂–Ω—ã —Å–ø—Ä–æ—Å–∏—Ç—å —Å–µ–±—è, –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –ª–∏ –∏–º–µ–µ—Ç —Å–º—ã—Å–ª –µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å).

–í–æ—Ç –∫–∞–∫ —ç—Ç–æ –æ–±—ã—á–Ω–æ –¥–µ–ª–∞–µ—Ç—Å—è:

–Ø –ª—é–±–ª—é –Ω–∞—á–∏–Ω–∞—Ç—å –∫–∞–∫ –º–æ–∂–Ω–æ –ø—Ä–æ—â–µ –∏ —á–∏—â–µ —Å–æ –≤—Å–µ–≥–æ, —á—Ç–æ —è —Å–æ–∑–¥–∞—é. –¢–æ –∂–µ —Å–∞–º–æ–µ –æ—Ç–Ω–æ—Å–∏—Ç—Å—è –∏ –∫ API.

–ö–æ–≥–¥–∞ —è –Ω–∞—á–∏–Ω–∞—é —Å–æ–∑–¥–∞–≤–∞—Ç—å API –∏ –Ω–µ—Ç –æ—Å–æ–±—ã—Ö –ø—Ä–∏—á–∏–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫—ç—à —Å—Ä–∞–∑—É, —è –æ—Å—Ç–∞–≤–ª—è—é –µ–≥–æ –∏ —Å–º–æ—Ç—Ä—é, —á—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç —Å–æ –≤—Ä–µ–º–µ–Ω–µ–º. –ö–æ–≥–¥–∞ –ø–æ—è–≤—è—Ç—Å—è –ø—Ä–∏—á–∏–Ω—ã –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫—ç—à–∞, —è —Å–º–æ–≥—É –µ–≥–æ –≤–Ω–µ–¥—Ä–∏—Ç—å.

### –•–æ—Ä–æ—à–∏–µ –º–µ—Ç–æ–¥—ã –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

–í–æ—Ç —ç—Ç–æ –¥–∞! –≠—Ç–æ –±—ã–ª–æ –æ—á–µ–Ω—å –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ–µ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–µ. –ú—ã –∑–∞—Ç—Ä–æ–Ω—É–ª–∏ –º–Ω–æ–∂–µ—Å—Ç–≤–æ –≤–∞–∂–Ω—ã—Ö –º–æ–º–µ–Ω—Ç–æ–≤ –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º —Ä–∞—Å—à–∏—Ä–∏–ª–∏ –Ω–∞—à API.

–ú—ã —Ä–∞—Å—Å–∫–∞–∑–∞–ª–∏ –æ –ª—É—á—à–∏—Ö –ø—Ä–∞–∫—Ç–∏–∫–∞—Ö, –ø–æ–∑–≤–æ–ª—è—é—â–∏—Ö –ø–æ–≤—ã—Å–∏—Ç—å —É–¥–æ–±—Å—Ç–≤–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –Ω–∞—à–µ–≥–æ API. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —Ç–∞–∫–∂–µ —è–≤–ª—è–µ—Ç—Å—è –∫–ª—é—á–µ–≤—ã–º —Ñ–∞–∫—Ç–æ—Ä–æ–º –¥–ª—è API. –ú–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å —Å–∞–º—ã–π –ª—É—á—à–∏–π API, –Ω–æ –µ—Å–ª–∏ –æ–Ω –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π —É—è–∑–≤–∏–º—É—é —á–∞—Å—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–≥–æ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è, —Ä–∞–±–æ—Ç–∞—é—â–µ–≥–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ, –æ–Ω —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –±–µ—Å–ø–æ–ª–µ–∑–Ω—ã–º –∏ –æ–ø–∞—Å–Ω—ã–º.

–ü–µ—Ä–≤—ã–º –∏ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º —É—Å–ª–æ–≤–∏–µ–º —è–≤–ª—è–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ SSL/TLS, –ø–æ—Å–∫–æ–ª—å–∫—É —ç—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç –¥–ª—è –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–π –≤ –ò–Ω—Ç–µ—Ä–Ω–µ—Ç–µ. –≠—Ç–æ –µ—â–µ –±–æ–ª–µ–µ –≤–∞–∂–Ω–æ –¥–ª—è API, –∫–æ–≥–¥–∞ –º–µ–∂–¥—É –∫–ª–∏–µ–Ω—Ç–æ–º –∏ –Ω–∞—à–∏–º API –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ.

–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å —Ä–µ—Å—É—Ä—Å—ã, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã —Ç–æ–ª—å–∫–æ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º, —Ç–æ –∏—Ö –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∑–∞—â–∏—Ç–∏—Ç—å —Å –ø–æ–º–æ—â—å—é –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–¥–ª–∏–Ω–Ω–æ—Å—Ç–∏.

–í Express, –Ω–∞–ø—Ä–∏–º–µ—Ä, —ç—Ç–æ –º–æ–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤ –≤–∏–¥–µ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–æ–≥–æ –ü–û, –∫–∞–∫ –º—ã —ç—Ç–æ —Å–¥–µ–ª–∞–ª–∏ —Å –Ω–∞—à–∏–º –∫—ç—à–µ–º –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤, –∏ –ø—Ä–æ–≤–µ—Ä—è—Ç—å —Å–Ω–∞—á–∞–ª–∞, –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω –ª–∏ –∑–∞–ø—Ä–æ—Å, –ø—Ä–µ–∂–¥–µ —á–µ–º –æ–Ω –ø–æ–ª—É—á–∏—Ç –¥–æ—Å—Ç—É–ø –∫ —Ä–µ—Å—É—Ä—Å—É.

–¢–∞–∫–∂–µ –º–æ–≥—É—Ç –±—ã—Ç—å —Ä–µ—Å—É—Ä—Å—ã –∏–ª–∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –Ω–∞—à–∏–º API, –∫–æ—Ç–æ—Ä—ã–µ –º—ã –Ω–µ —Ö–æ—Ç–∏–º —Ä–∞–∑—Ä–µ—à–∞—Ç—å –∑–∞–ø—Ä–∞—à–∏–≤–∞—Ç—å –∫–∞–∂–¥–æ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é. –¢–æ–≥–¥–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø—Ä–∏–¥—É–º–∞—Ç—å —Å–∏—Å—Ç–µ–º—É —Ä–æ–ª–µ–π –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π. –¢–æ–≥–¥–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–æ–±–∞–≤–∏—Ç—å –≤ –º–∞—Ä—à—Ä—É—Ç –µ—â–µ –æ–¥–Ω—É –ª–æ–≥–∏–∫—É –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏ –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏–º–µ–µ—Ç –ø—Ä–∞–≤–æ –¥–æ—Å—Ç—É–ø–∞ –∫ —ç—Ç–æ–º—É —Ä–µ—Å—É—Ä—Å—É.

–†–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Ç–∞–∫–∂–µ –∏–º–µ—é—Ç —Å–º—ã—Å–ª –≤ –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ, –∫–æ–≥–¥–∞ –º—ã —Ö–æ—Ç–∏–º, —á—Ç–æ–±—ã —Ç–æ–ª—å–∫–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ç—Ä–µ–Ω–µ—Ä—ã) –º–æ–≥–ª–∏ —Å–æ–∑–¥–∞–≤–∞—Ç—å, –æ–±–Ω–æ–≤–ª—è—Ç—å –∏ —É–¥–∞–ª—è—Ç—å –Ω–∞—à–∏ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ –∏ –∑–∞–ø–∏—Å–∏. –ß—Ç–µ–Ω–∏–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –¥–ª—è –≤—Å–µ—Ö (—Ç–∞–∫–∂–µ –¥–ª—è "–æ–±—ã—á–Ω—ã—Ö" —á–ª–µ–Ω–æ–≤ –∫–ª—É–±–∞).

–≠—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ –≤–Ω—É—Ç—Ä–∏ –¥—Ä—É–≥–æ–≥–æ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–æ–≥–æ –ü–û, –∫–æ—Ç–æ—Ä–æ–µ –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –¥–ª—è –º–∞—Ä—à—Ä—É—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –º—ã —Ö–æ—Ç–µ–ª–∏ –±—ã –∑–∞—â–∏—Ç–∏—Ç—å. –ù–∞–ø—Ä–∏–º–µ—Ä, –Ω–∞—à POST-–∑–∞–ø—Ä–æ—Å –∫ `/api/v1/workouts` –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–π —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏.

–í–Ω—É—Ç—Ä–∏ –ø–µ—Ä–≤–æ–≥–æ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–æ–≥–æ –ü–û –º—ã –ø—Ä–æ–≤–µ—Ä–∏–º, –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å. –ï—Å–ª–∏ —ç—Ç–æ —Ç–∞–∫, —Ç–æ –º—ã –ø–µ—Ä–µ–π–¥–µ–º –∫ —Å–ª–µ–¥—É—é—â–µ–º—É –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–æ–º—É –º–æ–¥—É–ª—é, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –ø—Ä–æ–≤–µ—Ä—è—Ç—å —Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏–º–µ–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é —Ä–æ–ª—å –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω–æ–º—É —Ä–µ—Å—É—Ä—Å—É, —Ç–æ –∑–∞–ø—Ä–æ—Å –±—É–¥–µ—Ç –ø–µ—Ä–µ–¥–∞–Ω —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–º—É –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—É.

–í–Ω—É—Ç—Ä–∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ –º–∞—Ä—à—Ä—É—Ç–∞ —ç—Ç–æ –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:

```js
// In src/v1/routes/workoutRoutes.js
// ...

// Custom made middlewares
const authenticate = require('../../middlewares/authenticate');
const authorize = require('../../middlewares/authorize');

router.post(
    '/',
    authenticate,
    authorize,
    workoutController.createNewWorkout
);

// ...
```

–î–ª—è –±–æ–ª–µ–µ –ø–æ–¥—Ä–æ–±–Ω–æ–≥–æ –æ–∑–Ω–∞–∫–æ–º–ª–µ–Ω–∏—è —Å –ª—É—á—à–∏–º–∏ –ø—Ä–∞–∫—Ç–∏–∫–∞–º–∏ –ø–æ —ç—Ç–æ–π —Ç–µ–º–µ —è –º–æ–≥—É –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å –ø—Ä–æ—á–∏—Ç–∞—Ç—å [—ç—Ç—É —Å—Ç–∞—Ç—å—é](https://restfulapi.net/security-essentials/).

### –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ —Å–≤–æ–π API –¥–æ–ª–∂–Ω—ã–º –æ–±—Ä–∞–∑–æ–º

–Ø –∑–Ω–∞—é, —á—Ç–æ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, –±–µ–∑—É—Å–ª–æ–≤–Ω–æ, –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –ª—é–±–∏–º–æ–π –∑–∞–¥–∞—á–µ–π —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤, –Ω–æ —ç—Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–∞—è –≤–µ—â—å. –û—Å–æ–±–µ–Ω–Ω–æ –∫–æ–≥–¥–∞ —Ä–µ—á—å –∏–¥–µ—Ç –æ–± API.

–ù–µ–∫–æ—Ç–æ—Ä—ã–µ –ª—é–¥–∏ –≥–æ–≤–æ—Ä—è—Ç:

> "An API is just as good as it's documentation"

–Ø –¥—É–º–∞—é, —á—Ç–æ –≤ —ç—Ç–æ–º —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–∏ –µ—Å—Ç—å –±–æ–ª—å—à–∞—è –¥–æ–ª—è –∏—Å—Ç–∏–Ω—ã, –ø–æ—Å–∫–æ–ª—å–∫—É –µ—Å–ª–∏ API –Ω–µ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω, —Ç–æ –µ–≥–æ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å, –∞ –∑–Ω–∞—á–∏—Ç, –æ–Ω —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –±–µ—Å–ø–æ–ª–µ–∑–Ω—ã–º. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Ç–∞–∫–∂–µ –ø–æ–º–æ–≥–∞–µ—Ç –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –æ–±–ª–µ–≥—á–∏—Ç—å –∂–∏–∑–Ω—å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º.

–í—Å–µ–≥–¥–∞ –ø–æ–º–Ω–∏—Ç–µ, —á—Ç–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è - —ç—Ç–æ, –∫–∞–∫ –ø—Ä–∞–≤–∏–ª–æ, –ø–µ—Ä–≤–æ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å –≤–∞—à–∏–º API. –ß–µ–º –±—ã—Å—Ç—Ä–µ–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å–º–æ–≥—É—Ç —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏, —Ç–µ–º –±—ã—Å—Ç—Ä–µ–µ –æ–Ω–∏ —Å–º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å API.

–ü–æ—ç—Ç–æ–º—É –Ω–∞—à–∞ –∑–∞–¥–∞—á–∞ - —Å–æ–∑–¥–∞—Ç—å —Ö–æ—Ä–æ—à—É—é –∏ —Ç–æ—á–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é. –°—É—â–µ—Å—Ç–≤—É–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –∑–∞–º–µ—á–∞—Ç–µ–ª—å–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –æ–±–ª–µ–≥—á–∞—é—Ç –Ω–∞–º –∂–∏–∑–Ω—å.

–ö–∞–∫ –∏ –≤ –¥—Ä—É–≥–∏—Ö –æ–±–ª–∞—Å—Ç—è—Ö –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∏, —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –Ω–µ–∫–∏–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç –¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è API, –Ω–∞–∑—ã–≤–∞–µ–º—ã–π [OpenAPI Specification](https://swagger.io/specification/).

–î–∞–≤–∞–π—Ç–µ –ø–æ—Å–º–æ—Ç—Ä–∏–º, –∫–∞–∫ –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é, –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—é—â—É—é —ç—Ç—É —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—é. –î–ª—è —ç—Ç–æ–≥–æ –º—ã –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–∞–∫–µ—Ç—ã [swagger-ui-express](https://www.npmjs.com/package/swagger-ui-express) –∏ [swagger-jsdoc](https://www.npmjs.com/package/swagger-jsdoc). –ß–µ—Ä–µ–∑ —Å–µ–∫—É–Ω–¥—É –≤—ã –±—É–¥–µ—Ç–µ –ø–æ—Ä–∞–∂–µ–Ω—ã, –Ω–∞—Å–∫–æ–ª—å–∫–æ —ç—Ç–æ –∑–¥–æ—Ä–æ–≤–æ!

–°–Ω–∞—á–∞–ª–∞ –º—ã —Å–æ–∑–¥–∞–¥–∏–º "–≥–æ–ª—É—é" —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–ª—è –Ω–∞—à–µ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏. –ü–æ—Å–∫–æ–ª—å–∫—É –º—ã –ø–ª–∞–Ω–∏—Ä—É–µ–º –∏–º–µ—Ç—å —Ä–∞–∑–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ –Ω–∞—à–µ–≥–æ API, —Ç–æ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –±—É–¥–µ—Ç –Ω–µ–º–Ω–æ–≥–æ –æ—Ç–ª–∏—á–∞—Ç—å—Å—è. –ü–æ—ç—Ç–æ–º—É —è —Ö–æ—Ç–µ–ª –±—ã –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –Ω–∞—à swagger-—Ñ–∞–π–ª, —á—Ç–æ–±—ã –æ–Ω —Ä–∞—Å—à–∞—Ä–∏–≤–∞–ª –Ω–∞—à—É –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –≤ –ø–∞–ø–∫–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–π –≤–µ—Ä—Å–∏–∏.

```shell
# Install required npm packages
npm i swagger-jsdoc swagger-ui-express

# Create a new file to setup the swagger docs
touch src/v1/swagger.js
```

---

```js
// In src/v1/swagger.js
const swaggerJSDoc = require('swagger-jsdoc');
const swaggerUi = require('swagger-ui-express');

// Basic Meta Informations about our API
const options = {
    definition: {
        openapi: '3.0.0',
        info: {
            title: 'Crossfit WOD API',
            version: '1.0.0',
        },
    },
    apis: [
        './src/v1/routes/workoutRoutes.js',
        './src/database/Workout.js',
    ],
};

// Docs in JSON format
const swaggerSpec = swaggerJSDoc(options);

// Function to setup our docs
const swaggerDocs = (app, port) => {
    // Route-Handler to visit our docs
    app.use(
        '/api/v1/docs',
        swaggerUi.serve,
        swaggerUi.setup(swaggerSpec)
    );
    // Make our docs in JSON format available
    app.get('/api/v1/docs.json', (req, res) => {
        res.setHeader('Content-Type', 'application/json');
        res.send(swaggerSpec);
    });
    console.log(
        `Version 1 Docs are available on http://localhost:${port}/api/v1/docs`
    );
};

module.exports = { swaggerDocs };
```

–ò—Ç–∞–∫, —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –¥–æ–≤–æ–ª—å–Ω–æ –ø—Ä–æ—Å—Ç–∞. –ú—ã –æ–ø—Ä–µ–¥–µ–ª–∏–ª–∏ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –Ω–∞—à–µ–≥–æ API, —Å–æ–∑–¥–∞–ª–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON –∏ —Å–æ–∑–¥–∞–ª–∏ —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è –¥–µ–ª–∞–µ—Ç –Ω–∞—à—É –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –¥–æ—Å—Ç—É–ø–Ω–æ–π.

–ß—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, –≤—Å–µ –ª–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç, –º—ã –≤—ã–≤–æ–¥–∏–º –≤ –∫–æ–Ω—Å–æ–ª—å –ø—Ä–æ—Å—Ç–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ —Ç–æ–º, –≥–¥–µ –º—ã –º–æ–∂–µ–º –Ω–∞–π—Ç–∏ –Ω–∞—à–∏ –¥–æ–∫—É–º–µ–Ω—Ç—ã.

–≠—Ç—É —Ñ—É–Ω–∫—Ü–∏—é –º—ã –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –Ω–∞—à–µ–º –∫–æ—Ä–Ω–µ–≤–æ–º —Ñ–∞–π–ª–µ, –≥–¥–µ –º—ã —Å–æ–∑–¥–∞–ª–∏ Express-—Å–µ—Ä–≤–µ—Ä, —á—Ç–æ–±—ã —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Ç–∞–∫–∂–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è.

```js
// In src/index.js
const express = require('express');
const bodyParser = require('body-parser');
const v1WorkoutRouter = require('./v1/routes/workoutRoutes');
// *** ADD ***
const {
    swaggerDocs: V1SwaggerDocs,
} = require('./v1/swagger');

const app = express();
const PORT = process.env.PORT || 3000;

app.use(bodyParser.json());
app.use('/api/v1/workouts', v1WorkoutRouter);

app.listen(PORT, () => {
    console.log(`API is listening on port ${PORT}`);
    /// *** ADD ***
    V1SwaggerDocs(app, PORT);
});
```

–¢–µ–ø–µ—Ä—å –≤—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ, –≥–¥–µ –∑–∞–ø—É—â–µ–Ω –≤–∞—à —Å–µ—Ä–≤–µ—Ä —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:

![Bildschirmfoto-2022-04-28-um-20.23.51-1](Bildschirmfoto-2022-04-28-um-20.23.51-1.png)

–ê –∫–æ–≥–¥–∞ –≤—ã –∑–∞–π–¥–µ—Ç–µ –Ω–∞ `localhost:3000/api/v1/docs`, –≤—ã —É–∂–µ –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å –Ω–∞—à—É —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏:

![Bildschirmfoto-2022-04-28-um-20.25.00-1](Bildschirmfoto-2022-04-28-um-20.25.00-1.png)

–ö–∞–∂–¥—ã–π —Ä–∞–∑ —è –ø–æ—Ä–∞–∂–∞—é—Å—å, –Ω–∞—Å–∫–æ–ª—å–∫–æ —Ö–æ—Ä–æ—à–æ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç. –¢–µ–ø–µ—Ä—å –±–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–æ–∑–¥–∞–Ω–∞, –∏ –º—ã –º–æ–∂–µ–º –ø—Ä–∏—Å—Ç—É–ø–∏—Ç—å –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –¥–ª—è –Ω–∞—à–∏—Ö –∫–æ–Ω–µ—á–Ω—ã—Ö —Ç–æ—á–µ–∫. –ü–æ–µ—Ö–∞–ª–∏!

–ï—Å–ª–∏ –≤—ã –ø–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –Ω–∞ **options.apis** –≤ –Ω–∞—à–µ–º —Ñ–∞–π–ª–µ `swagger.js`, —Ç–æ —É–≤–∏–¥–∏—Ç–µ, —á—Ç–æ –º—ã –≤–∫–ª—é—á–∏–ª–∏ –ø—É—Ç—å –∫ –Ω–∞—à–∏–º –º–∞—Ä—à—Ä—É—Ç–∞–º —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ –∏ –∫ —Ñ–∞–π–ª—É —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ –≤ –ø–∞–ø–∫–µ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö. –≠—Ç–æ —Å–∞–º–∞—è –≤–∞–∂–Ω–∞—è –≤–µ—â—å –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ, –±–ª–∞–≥–æ–¥–∞—Ä—è –∫–æ—Ç–æ—Ä–æ–π –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç –≤—Å—è –º–∞–≥–∏—è.

–ù–∞–ª–∏—á–∏–µ —ç—Ç–∏—Ö —Ñ–∞–π–ª–æ–≤, –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö –≤ –æ–ø—Ü–∏—è—Ö `swagger`, –ø–æ–∑–≤–æ–ª–∏—Ç –Ω–∞–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏, —Å—Å—ã–ª–∞—é—â–∏–µ—Å—è –Ω–∞ OpenAPI –∏ –∏–º–µ—é—â–∏–µ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å, –∫–∞–∫ –≤ yaml-—Ñ–∞–π–ª–∞—Ö, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –Ω–∞—à–∏—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤.

–¢–µ–ø–µ—Ä—å –º—ã –≥–æ—Ç–æ–≤—ã —Å–æ–∑–¥–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –¥–ª—è –Ω–∞—à–µ–π –ø–µ—Ä–≤–æ–π –∫–æ–Ω–µ—á–Ω–æ–π —Ç–æ—á–∫–∏! –î–∞–≤–∞–π—Ç–µ –ø—Ä–∏—Å—Ç—É–ø–∏–º –∫ —Ä–∞–±–æ—Ç–µ.

```js
// In src/v1/routes/workoutRoutes.js
// ...

/**
 * @openapi
 * /api/v1/workouts:
 *   get:
 *     tags:
 *       - Workouts
 *     responses:
 *       200:
 *         description: OK
 *         content:
 *           application/json:
 *             schema:
 *               type: object
 *               properties:
 *                 status:
 *                   type: string
 *                   example: OK
 *                 data:
 *                   type: array
 *                   items:
 *                     type: object
 */
router.get(
    '/',
    cache('2 minutes'),
    workoutController.getAllWorkouts
);

// ...
```

–í–æ—Ç, —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ, –∏ –≤—Å—è –º–∞–≥–∏—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∫–æ–Ω–µ—á–Ω–æ–π —Ç–æ—á–∫–∏ –≤ –Ω–∞—à–∏ swagger-–¥–æ–∫—É–º–µ–Ω—Ç—ã. –í—ã –º–æ–∂–µ—Ç–µ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ –¥–ª—è –æ–ø–∏—Å–∞–Ω–∏—è –∫–æ–Ω–µ—á–Ω–æ–π —Ç–æ—á–∫–∏ –≤ –∏—Ö [great docs](https://swagger.io/docs/specification/about/).

–ö–æ–≥–¥–∞ –≤—ã –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏, –≤—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å —Å–ª–µ–¥—É—é—â–µ–µ:

![Bildschirmfoto-2022-04-29-um-07.21.51-1](Bildschirmfoto-2022-04-29-um-07.21.51-1.png)

–≠—Ç–æ –¥–æ–ª–∂–Ω–æ –≤—ã–≥–ª—è–¥–µ—Ç—å –æ—á–µ–Ω—å –∑–Ω–∞–∫–æ–º–æ, –µ—Å–ª–∏ –≤—ã —É–∂–µ —Ä–∞–±–æ—Ç–∞–ª–∏ —Å API, –∏–º–µ—é—â–∏–º–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é OpenAPI. –≠—Ç–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ, –≤ –∫–æ—Ç–æ—Ä–æ–º –±—É–¥—É—Ç –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω—ã –≤—Å–µ –Ω–∞—à–∏ –∫–æ–Ω–µ—á–Ω—ã–µ —Ç–æ—á–∫–∏, –∏ –≤—ã —Å–º–æ–∂–µ—Ç–µ —Ä–∞—Å—à–∏—Ä–∏—Ç—å –∫–∞–∂–¥—É—é –∏–∑ –Ω–∏—Ö, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –æ –Ω–µ–π –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é.

![Bildschirmfoto-2022-04-29-um-07.41.46-1](Bildschirmfoto-2022-04-29-um-07.41.46-1.png)

–ï—Å–ª–∏ –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –Ω–∞ –Ω–∞—à –æ—Ç–≤–µ—Ç, —Ç–æ –º–æ–∂–Ω–æ –∑–∞–º–µ—Ç–∏—Ç—å, —á—Ç–æ –º—ã –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–∏–ª–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ, –ø–æ—Å–∫–æ–ª—å–∫—É –ø—Ä–æ—Å—Ç–æ —Å–∫–∞–∑–∞–ª–∏, —á—Ç–æ –Ω–∞—à–µ —Å–≤–æ–π—Å—Ç–≤–æ "data" –±—É–¥–µ—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—Ç—å —Å–æ–±–æ–π –º–∞—Å—Å–∏–≤ –ø—É—Å—Ç—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤.

–í–æ—Ç —Ç—É—Ç-—Ç–æ –∏ –ø—Ä–∏–≥–æ–¥—è—Ç—Å—è —Å—Ö–µ–º—ã.

```js
// In src/databse/Workout.js
// ...

/**
 * @openapi
 * components:
 *   schemas:
 *     Workout:
 *       type: object
 *       properties:
 *         id:
 *           type: string
 *           example: 61dbae02-c147-4e28-863c-db7bd402b2d6
 *         name:
 *           type: string
 *           example: Tommy V
 *         mode:
 *           type: string
 *           example: For Time
 *         equipment:
 *           type: array
 *           items:
 *             type: string
 *           example: ["barbell", "rope"]
 *         exercises:
 *           type: array
 *           items:
 *             type: string
 *           example: ["21 thrusters", "12 rope climbs, 15 ft", "15 thrusters", "9 rope climbs, 15 ft", "9 thrusters", "6 rope climbs, 15 ft"]
 *         createdAt:
 *           type: string
 *           example: 4/20/2022, 2:21:56 PM
 *         updatedAt:
 *           type: string
 *           example: 4/20/2022, 2:21:56 PM
 *         trainerTips:
 *           type: array
 *           items:
 *             type: string
 *           example: ["Split the 21 thrusters as needed", "Try to do the 9 and 6 thrusters unbroken", "RX Weights: 115lb/75lb"]
 */

// ...
```

–í –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω–æ–º –≤—ã—à–µ –ø—Ä–∏–º–µ—Ä–µ –º—ã —Å–æ–∑–¥–∞–ª–∏ –Ω–∞—à—É –ø–µ—Ä–≤—É—é —Å—Ö–µ–º—É. –û–±—ã—á–Ω–æ —ç—Ç–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ñ–∞–π–ª–µ —Å—Ö–µ–º—ã –∏–ª–∏ –º–æ–¥–µ–ª–∏, –≤ –∫–æ—Ç–æ—Ä–æ–º –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –º–æ–¥–µ–ª–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.

–ö–∞–∫ –º–æ–∂–Ω–æ –≤–∏–¥–µ—Ç—å, –æ–Ω–∞ —Ç–∞–∫–∂–µ –¥–æ–≤–æ–ª—å–Ω–æ –ø—Ä–æ—Å—Ç–∞. –ú—ã –æ–ø—Ä–µ–¥–µ–ª–∏–ª–∏ –≤—Å–µ —Å–≤–æ–π—Å—Ç–≤–∞, –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö —Å–æ—Å—Ç–æ–∏—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞, –≤–∫–ª—é—á–∞—è —Ç–∏–ø –∏ –ø—Ä–∏–º–µ—Ä.

–í—ã –º–æ–∂–µ—Ç–µ —Å–Ω–æ–≤–∞ –ø–æ—Å–µ—Ç–∏—Ç—å –Ω–∞—à—É —Å—Ç—Ä–∞–Ω–∏—Ü—É docs, –∏ –º—ã –ø–æ–ª—É—á–∏–º –µ—â–µ –æ–¥–∏–Ω —Ä–∞–∑–¥–µ–ª, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π –Ω–∞—à–∏ —Å—Ö–µ–º—ã.

![Bildschirmfoto-2022-04-29-um-07.29.49-1](Bildschirmfoto-2022-04-29-um-07.29.49-1.png)

–¢–µ–ø–µ—Ä—å –Ω–∞ —ç—Ç—É —Å—Ö–µ–º—É –º–æ–∂–Ω–æ —Å—Å—ã–ª–∞—Ç—å—Å—è –≤ –æ—Ç–≤–µ—Ç–µ –Ω–∞—à–µ–π –∫–æ–Ω–µ—á–Ω–æ–π —Ç–æ—á–∫–∏.

```js
// In src/v1/routes/workoutRoutes.js
// ...

/**
 * @openapi
 * /api/v1/workouts:
 *   get:
 *     tags:
 *       - Workouts
 *     responses:
 *       200:
 *         description: OK
 *         content:
 *           application/json:
 *             schema:
 *               type: object
 *               properties:
 *                 status:
 *                   type: string
 *                   example: OK
 *                 data:
 *                   type: array
 *                   items:
 *                     $ref: "#/components/schemas/Workout"
 */
router.get(
    '/',
    cache('2 minutes'),
    workoutController.getAllWorkouts
);

// ...
```

–í–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –Ω–∞ –Ω–∏–∂–Ω—é—é —á–∞—Å—Ç—å –Ω–∞—à–µ–≥–æ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è –≤ —Ä–∞–∑–¥–µ–ª–µ "items". –ú—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º "`$ref`" –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å—Å—ã–ª–∫–∏ –∏ —Å—Å—ã–ª–∞–µ–º—Å—è –Ω–∞ –ø—É—Ç—å –∫ –Ω–∞—à–µ–π —Å—Ö–µ–º–µ, –∫–æ—Ç–æ—Ä—É—é –º—ã –æ–ø—Ä–µ–¥–µ–ª–∏–ª–∏ –≤–Ω—É—Ç—Ä–∏ –Ω–∞—à–µ–≥–æ —Ñ–∞–π–ª–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏.

–¢–µ–ø–µ—Ä—å –º—ã –º–æ–∂–µ–º –ø–æ–∫–∞–∑–∞—Ç—å –ø–æ–ª–Ω—É—é —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É –≤ –Ω–∞—à–µ–º –æ—Ç–≤–µ—Ç–µ.

![Bildschirmfoto-2022-04-29-um-07.44.12-1](Bildschirmfoto-2022-04-29-um-07.44.12-1.png)

–î–æ–≤–æ–ª—å–Ω–æ –∑–¥–æ—Ä–æ–≤–æ, –ø—Ä–∞–≤–¥–∞? –í—ã –º–æ–∂–µ—Ç–µ –ø–æ–¥—É–º–∞—Ç—å, —á—Ç–æ "–Ω–∞–±–∏—Ä–∞—Ç—å —ç—Ç–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –≤—Ä—É—á–Ω—É—é –º–æ–∂–µ—Ç –±—ã—Ç—å —É—Ç–æ–º–∏—Ç–µ–ª—å–Ω—ã–º –∑–∞–Ω—è—Ç–∏–µ–º".

–í–æ–∑–º–æ–∂–Ω–æ, —ç—Ç–æ –∏ —Ç–∞–∫, –Ω–æ –ø–æ–¥—É–º–∞–π—Ç–µ –≤–æ—Ç –æ —á–µ–º. –¢–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –≤–∞—à–µ–π –∫–æ–¥–æ–≤–æ–π –±–∞–∑–µ, —Ç–∞–∫–∂–µ —è–≤–ª—è—é—Ç—Å—è –æ—Ç–ª–∏—á–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π –¥–ª—è –≤–∞—Å –∫–∞–∫ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ API. –í–∞–º –Ω–µ –Ω—É–∂–Ω–æ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –∑–∞—Ö–æ–¥–∏—Ç—å –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é, –∫–æ–≥–¥–∞ –≤—ã —Ö–æ—Ç–∏—Ç–µ —É–∑–Ω–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –ø–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –∫–æ–Ω–µ—á–Ω–æ–π —Ç–æ—á–∫–µ. –í—ã –º–æ–∂–µ—Ç–µ –ø—Ä–æ—Å—Ç–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –µ–µ –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ –≤ —Å–≤–æ–µ–º –∏—Å—Ö–æ–¥–Ω–æ–º –∫–æ–¥–µ.

–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω–µ—á–Ω—ã—Ö —Ç–æ—á–µ–∫ —Ç–∞–∫–∂–µ –ø–æ–º–æ–≥–∞–µ—Ç –ª—É—á—à–µ –ø–æ–Ω—è—Ç—å –∏—Ö –∏ "–∑–∞—Å—Ç–∞–≤–ª—è–µ—Ç" –≤—Å–ø–æ–º–Ω–∏—Ç—å –æ —Ç–æ–º, —á—Ç–æ –≤—ã –º–æ–≥–ª–∏ –∑–∞–±—ã—Ç—å —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å.

–ö–∞–∫ –≤–∏–¥–∏—Ç–µ, —è –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –∫–æ–µ-—á—Ç–æ –∑–∞–±—ã–ª. –í–æ–∑–º–æ–∂–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã –Ω–∞ –æ—à–∏–±–∫–∏ –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞ –≤—Å–µ –µ—â–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç!

–î–∞–≤–∞–π—Ç–µ —ç—Ç–æ –∏—Å–ø—Ä–∞–≤–∏–º:

```js
// In src/v1/routes/workoutRoutes.js
// ...

/**
 * @openapi
 * /api/v1/workouts:
 *   get:
 *     tags:
 *       - Workouts
 *     parameters:
 *       - in: query
 *         name: mode
 *         schema:
 *           type: string
 *         description: The mode of a workout
 *     responses:
 *       200:
 *         description: OK
 *         content:
 *           application/json:
 *             schema:
 *               type: object
 *               properties:
 *                 status:
 *                   type: string
 *                   example: OK
 *                 data:
 *                   type: array
 *                   items:
 *                     $ref: "#/components/schemas/Workout"
 *       5XX:
 *         description: FAILED
 *         content:
 *           application/json:
 *             schema:
 *               type: object
 *               properties:
 *                 status:
 *                   type: string
 *                   example: FAILED
 *                 data:
 *                   type: object
 *                   properties:
 *                     error:
 *                       type: string
 *                       example: "Some error message"
 */
router.get(
    '/',
    cache('2 minutes'),
    workoutController.getAllWorkouts
);

// ...
```

–ï—Å–ª–∏ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –Ω–∞ –≤–µ—Ä—Ö–Ω—é—é —á–∞—Å—Ç—å –Ω–∞—à–µ–≥–æ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è –≤ —Ä–∞–∑–¥–µ–ª–µ "`tags`", —Ç–æ –º–æ–∂–Ω–æ —É–≤–∏–¥–µ—Ç—å, —á—Ç–æ —è –¥–æ–±–∞–≤–∏–ª –µ—â–µ –æ–¥–∏–Ω –∫–ª—é—á –ø–æ–¥ –Ω–∞–∑–≤–∞–Ω–∏–µ–º "`parameters`", –≥–¥–µ —è –æ–ø—Ä–µ–¥–µ–ª–∏–ª –Ω–∞—à –ø–∞—Ä–∞–º–µ—Ç—Ä –∑–∞–ø—Ä–æ—Å–∞ –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏.

–¢–µ–ø–µ—Ä—å –≤ –Ω–∞—à–∏—Ö –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ö –æ–Ω –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ:

![Bildschirmfoto-2022-04-29-um-08.03.00-1](Bildschirmfoto-2022-04-29-um-08.03.00-1.png)

–ò —á—Ç–æ–±—ã –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –≤–æ–∑–º–æ–∂–Ω—ã–π —Å–ª—É—á–∞–π –æ—à–∏–±–∫–∏, –º—ã –Ω–∞ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ–º —Ç–æ–ª—å–∫–æ –æ—à–∏–±–∫—É 5XX. –ü–æ—ç—Ç–æ–º—É –≤ —Ä–∞–∑–¥–µ–ª–µ "–û—Ç–≤–µ—Ç—ã" –≤—ã –º–æ–∂–µ—Ç–µ —É–≤–∏–¥–µ—Ç—å, —á—Ç–æ —è —Ç–∞–∫–∂–µ –æ–ø—Ä–µ–¥–µ–ª–∏–ª –¥—Ä—É–≥—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –¥–ª—è —ç—Ç–æ–≥–æ.

–ù–∞ –Ω–∞—à–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –æ–Ω–∞ –≤—ã–≥–ª—è–¥–∏—Ç —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:

![Bildschirmfoto-2022-04-29-um-08.04.44-2](Bildschirmfoto-2022-04-29-um-08.04.44-2.png)

–ü–æ—Ç—Ä—è—Å–∞—é—â–µ! –ú—ã —Ç–æ–ª—å–∫–æ —á—Ç–æ —Å–æ–∑–¥–∞–ª–∏ –ø–æ–ª–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –¥–ª—è –æ–¥–Ω–æ–π –∫–æ–Ω–µ—á–Ω–æ–π —Ç–æ—á–∫–∏. –Ø –±—ã –Ω–∞—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–ª –≤–∞–º —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –æ—Å—Ç–∞–ª—å–Ω—ã–µ –∫–æ–Ω–µ—á–Ω—ã–µ —Ç–æ—á–∫–∏, —á—Ç–æ–±—ã –ø–æ—Ä–∞–±–æ—Ç–∞—Ç—å —Å –Ω–∏–º–∏. –í –ø—Ä–æ—Ü–µ—Å—Å–µ —Ä–∞–±–æ—Ç—ã –≤—ã —É–∑–Ω–∞–µ—Ç–µ –º–Ω–æ–≥–æ –Ω–æ–≤–æ–≥–æ!

–ö–∞–∫ –≤—ã –º–æ–≥–ª–∏ —É–±–µ–¥–∏—Ç—å—Å—è, –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API –Ω–µ –≤—Å–µ–≥–¥–∞ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –≥–æ–ª–æ–≤–Ω–æ–π –±–æ–ª—å—é. –Ø –¥—É–º–∞—é, —á—Ç–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã, —Å –∫–æ—Ç–æ—Ä—ã–º–∏ —è –≤–∞—Å –ø–æ–∑–Ω–∞–∫–æ–º–∏–ª, —Å–æ–∫—Ä–∞—â–∞—é—Ç –æ–±—â–∏–µ —É—Å–∏–ª–∏—è, –∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –∏—Ö –¥–æ–≤–æ–ª—å–Ω–æ –ø—Ä–æ—Å—Ç–∞.

–ü–æ—ç—Ç–æ–º—É –º—ã –º–æ–∂–µ–º —Å–∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –Ω–∞ –≥–ª–∞–≤–Ω–æ–º - –Ω–∞ —Å–∞–º–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏. –ù–∞ –º–æ–π –≤–∑–≥–ª—è–¥, –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ swagger/OpenAPI –æ—á–µ–Ω—å —Ö–æ—Ä–æ—à–∞, –∏ –≤ –ò–Ω—Ç–µ—Ä–Ω–µ—Ç–µ –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –º–Ω–æ–∂–µ—Å—Ç–≤–æ –∑–∞–º–µ—á–∞—Ç–µ–ª—å–Ω—ã—Ö –ø—Ä–∏–º–µ—Ä–æ–≤.

–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –∏–∑-–∑–∞ —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–≥–æ –æ–±—ä–µ–º–∞ "–ª–∏—à–Ω–µ–π" —Ä–∞–±–æ—Ç—ã –±–æ–ª—å—à–µ –Ω–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø—Ä–∏—á–∏–Ω–æ–π.

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–≠—Ç–æ –±—ã–ª–∞ –æ—á–µ–Ω—å –≤–µ—Å–µ–ª–∞—è –ø–æ–µ–∑–¥–∫–∞. –ú–Ω–µ –æ—á–µ–Ω—å –ø–æ–Ω—Ä–∞–≤–∏–ª–æ—Å—å –ø–∏—Å–∞—Ç—å –¥–ª—è –≤–∞—Å —ç—Ç—É —Å—Ç–∞—Ç—å—é, –∏ —è —Ç–æ–∂–µ –º–Ω–æ–≥–æ–º—É –Ω–∞—É—á–∏–ª—Å—è.

–í–æ–∑–º–æ–∂–Ω–æ, –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –ª—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ —è–≤–ª—è—é—Ç—Å—è –≤–∞–∂–Ω—ã–º–∏, –≤ —Ç–æ –≤—Ä–µ–º—è –∫–∞–∫ –¥—Ä—É–≥–∏–µ –º–æ–≥—É—Ç –ø–æ–∫–∞–∑–∞—Ç—å—Å—è –Ω–µ–ø—Ä–∏–º–µ–Ω–∏–º—ã–º–∏ –∫ –≤–∞—à–µ–π —Ç–µ–∫—É—â–µ–π —Å–∏—Ç—É–∞—Ü–∏–∏. –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ, –ø–æ—Ç–æ–º—É —á—Ç–æ, –∫–∞–∫ —è —É–∂–µ –≥–æ–≤–æ—Ä–∏–ª, –∫–∞–∂–¥—ã–π –∏–Ω–∂–µ–Ω–µ—Ä –æ–±—è–∑–∞–Ω –≤—ã–±—Ä–∞—Ç—å –ª—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –ø—Ä–∏–º–µ–Ω–∏—Ç—å –∫ –µ–≥–æ —Ç–µ–∫—É—â–µ–π —Å–∏—Ç—É–∞—Ü–∏–∏.

–Ø –ø–æ—Å—Ç–∞—Ä–∞–ª—Å—è —Å–¥–µ–ª–∞—Ç—å –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω–æ–µ, —á—Ç–æ–±—ã –æ–±—ä–µ–¥–∏–Ω–∏—Ç—å –≤—Å–µ —Ç–µ –ª—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ —è —Å–¥–µ–ª–∞–ª –¥–æ —Å–∏—Ö –ø–æ—Ä, –∏ –ø—Ä–∏ —ç—Ç–æ–º —Å–æ–∑–¥–∞—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π API. –≠—Ç–æ –¥–æ—Å—Ç–∞–≤–∏–ª–æ –º–Ω–µ –º–∞—Å—Å—É —É–¥–æ–≤–æ–ª—å—Å—Ç–≤–∏—è!

–Ø –±—É–¥—É —Ä–∞–¥ –ª—é–±–æ–π –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏. –ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ —á—Ç–æ-—Ç–æ —Ä–∞—Å—Å–∫–∞–∑–∞—Ç—å –º–Ω–µ (—Ö–æ—Ä–æ—à–µ–µ –∏–ª–∏ –ø–ª–æ—Ö–æ–µ), –Ω–µ —Å—Ç–µ—Å–Ω—è–π—Ç–µ—Å—å, –æ–±—Ä–∞—â–∞–π—Ç–µ—Å—å:

–í–æ—Ç [–º–æ–π Instagram](https://www.instagram.com/jean_marc.dev/) (–≤—ã —Ç–∞–∫–∂–µ –º–æ–∂–µ—Ç–µ —Å–ª–µ–¥–∏—Ç—å –∑–∞ –º–æ–∏–º –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–µ–º –≤ –∫–∞—á–µ—Å—Ç–≤–µ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–≥–æ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è).

–£–≤–∏–¥–∏–º—Å—è –≤ —Å–ª–µ–¥—É—é—â–∏–π —Ä–∞–∑!

## –°—Å—ã–ª–∫–∏

-   [REST API Design Best Practices Handbook ‚Äì How to Build a REST API with JavaScript, Node.js, and Express.js](https://www.freecodecamp.org/news/rest-api-design-best-practices-build-a-rest-api/)
